üìò MediaSyndicate - –ü–æ–ª–Ω–∞—è –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è –°–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—è
–í–µ—Ä—Å–∏—è: 1.0
–î–∞—Ç–∞: 22 –Ω–æ—è–±—Ä—è 2024
–°—Ç–∞—Ç—É—Å: ‚úÖ –£—Ç–≤–µ—Ä–∂–¥–µ–Ω–æ –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

üìë –û–≥–ª–∞–≤–ª–µ–Ω–∏–µ

Executive Summary
–û–±–∑–æ—Ä –ø—Ä–æ–µ–∫—Ç–∞
–¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫
–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Å–∏—Å—Ç–µ–º—ã
–°—Ö–µ–º–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
–ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞ —Å–µ—Ä–≤–∏—Å–æ–≤
Roadmap —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
SEO & Marketing —Å—Ç—Ä–∞—Ç–µ–≥–∏—è
Deployment –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏
–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –ø–æ–¥–¥–µ—Ä–∂–∫–∞
–ê–¥–º–∏–Ω –ø–∞–Ω–µ–ª—å
–ü—Ä–∏–ª–æ–∂–µ–Ω–∏—è


1. Executive Summary
MediaSyndicate - —É–∫—Ä–∞–∏–Ω—Å–∫–∏–π –Ω–æ–≤–æ—Å—Ç–Ω–æ–π –∞–≥—Ä–µ–≥–∞—Ç–æ—Ä –Ω–æ–≤–æ–≥–æ –ø–æ–∫–æ–ª–µ–Ω–∏—è —Å AI-–∞–Ω–∞–ª–∏–∑–æ–º, –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–º —Ä–µ–π—Ç–∏–Ω–≥–æ–º –∏ —É–º–Ω–æ–π –¥–µ–¥—É–ø–ª–∏–∫–∞—Ü–∏–µ–π.
1.1 –ö–ª—é—á–µ–≤—ã–µ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏

ü§ñ AI-–¥–µ–¥—É–ø–ª–∏–∫–∞—Ü–∏—è: 2+ –∏—Å—Ç–æ—á–Ω–∏–∫–∞ –æ–± –æ–¥–Ω–æ–º —Å–æ–±—ã—Ç–∏–∏ ‚Üí –µ–¥–∏–Ω—ã–π –∫–ª–∞—Å—Ç–µ—Ä
üìä –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π —Ä–µ–π—Ç–∏–Ω–≥: –§–æ—Ä–º—É–ª–∞ Mediametrics —Å Telegram –º–µ—Ç—Ä–∏–∫–∞–º–∏
üî• –ì–û–†–ï–ù–ò–ï: –•—Ä–æ–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–æ–µ —Ä–∞–∑–≤–∏—Ç–∏–µ –∫–∞–∂–¥–æ–π —Ç–µ–º—ã
üéØ –§–æ–∫—É—Å –Ω–∞ –£–∫—Ä–∞–∏–Ω–µ: –¢–æ–ª—å–∫–æ —É–∫—Ä–∞–∏–Ω—Å–∫–∏–µ –Ω–æ–≤–æ—Å—Ç–∏ (—Å—Ç—Ä–æ–≥–∏–π AI-—Ñ–∏–ª—å—Ç—Ä)
üì± Telegram –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è: –ü–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –ø–æ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–Ω—ã–º —Ñ–∏–ª—å—Ç—Ä–∞–º
‚öôÔ∏è –ê–¥–º–∏–Ω –ø–∞–Ω–µ–ª—å: –ü–æ–ª–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∏—Å—Ç–æ—á–Ω–∏–∫–∞–º–∏, –∫–ª–∞—Å—Ç–µ—Ä–∞–º–∏ –∏ —Å–∏—Å—Ç–µ–º–æ–π

1.2 –¶–µ–ª–µ–≤–∞—è –∞—É–¥–∏—Ç–æ—Ä–∏—è
–û—Å–Ω–æ–≤–Ω–∞—è:

–£–∫—Ä–∞–∏–Ω—Ü—ã 25-55 –ª–µ—Ç
–ò–Ω—Ç–µ—Ä–µ—Å—É—é—â–∏–µ—Å—è –ø–æ–ª–∏—Ç–∏–∫–æ–π –∏ –Ω–æ–≤–æ—Å—Ç—è–º–∏
–õ—é–¥–∏ –±–µ–∑ –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω–æ–π –º–µ–¥–∏–∞-–≥—Ä–∞–º–æ—Ç–Ω–æ—Å—Ç–∏
–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏, –∏—â—É—â–∏–µ –æ–±—ä–µ–∫—Ç–∏–≤–Ω–æ–µ –æ—Å–≤–µ—â–µ–Ω–∏–µ

–í—Ç–æ—Ä–∏—á–Ω–∞—è:

–ñ—É—Ä–Ω–∞–ª–∏—Å—Ç—ã (–º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏–Ω—Ñ–æ–ø–æ–ª—è)
–ò—Å—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª–∏ (–∞–Ω–∞–ª–∏–∑ —Ç—Ä–µ–Ω–¥–æ–≤)
–ë–ª–æ–≥–µ—Ä—ã (–∏—Å—Ç–æ—á–Ω–∏–∫ –∫–æ–Ω—Ç–µ–Ω—Ç–∞)

1.3 –ö–æ–Ω–∫—É—Ä–µ–Ω—Ç–Ω—ã–µ –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞

–ï–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω—ã–π –∞–≥—Ä–µ–≥–∞—Ç–æ—Ä —Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –∫–ª–∞—Å—Ç–µ—Ä–∏–∑–∞—Ü–∏–µ–π
–ü—Ä–æ–∑—Ä–∞—á–Ω—ã–π —Ä–µ–π—Ç–∏–Ω–≥ (—Ñ–æ—Ä–º—É–ª–∞ –æ—Ç–∫—Ä—ã—Ç–∞)
–ì–û–†–ï–ù–ò–ï - –ø–æ–∫–∞–∑ —Ä–∞–∑–≤–∏—Ç–∏—è —Ç–µ–º—ã
Telegram-first –ø–æ–¥—Ö–æ–¥
–°—Ç—Ä–æ–≥–∏–π —Ñ–æ–∫—É—Å –Ω–∞ –£–∫—Ä–∞–∏–Ω–µ

1.4 –ë–∏–∑–Ω–µ—Å-–º–æ–¥–µ–ª—å

Phase 1 (MVP): –ë–µ—Å–ø–ª–∞—Ç–Ω—ã–π –¥–æ—Å—Ç—É–ø, —Ñ–æ–∫—É—Å –Ω–∞ —Ä–æ—Å—Ç –∞—É–¥–∏—Ç–æ—Ä–∏–∏
Phase 2: –ü–ª–∞—Ç–Ω—ã–µ PR-—Ä–∞–∑–º–µ—â–µ–Ω–∏—è –¥–ª—è –±—Ä–µ–Ω–¥–æ–≤
Phase 3: Premium –ø–æ–¥–ø–∏—Å–∫–∞ —Å —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω–æ–π –∞–Ω–∞–ª–∏—Ç–∏–∫–æ–π

1.5 Timeline
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  Phase 1    ‚îÇ   Phase 2    ‚îÇ    Phase 3    ‚îÇ   Phase 4    ‚îÇ
‚îÇ   (MVP)     ‚îÇ  (–ü–æ–∏—Å–∫ +    ‚îÇ  (Telegram    ‚îÇ   (Polish    ‚îÇ
‚îÇ             ‚îÇ   –õ–µ–Ω—Ç—ã)     ‚îÇ     –±–æ—Ç)      ‚îÇ    + Admin)  ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ  4 –Ω–µ–¥–µ–ª–∏   ‚îÇ  3 –Ω–µ–¥–µ–ª–∏    ‚îÇ   2 –Ω–µ–¥–µ–ª–∏    ‚îÇ  3 –Ω–µ–¥–µ–ª–∏    ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
        ‚ñ≤              ‚ñ≤              ‚ñ≤              ‚ñ≤
     Launch         –ü–æ–∏—Å–∫         Telegram      Production
      Beta          ready          ready          ready
–í—Ä–µ–º—è –¥–æ production: 12 –Ω–µ–¥–µ–ª—å (3 –º–µ—Å—è—Ü–∞)
1.6 –ë—é–¥–∂–µ—Ç (–ø–µ—Ä–≤—ã–µ 6 –º–µ—Å—è—Ü–µ–≤)
–†–∞–∑—Ä–∞–±–æ—Ç–∫–∞:           $0 (—Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–µ —Å–∏–ª—ã)
–ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞:       $240 ($40/–º–µ—Å √ó 6)
AI API:               $0 (–±–µ—Å–ø–ª–∞—Ç–Ω—ã–µ —Ç–∞—Ä–∏—Ñ—ã)
SEO/Marketing:        $4,700
‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
–ò—Ç–æ–≥–æ:                ~$5,000

2. –û–±–∑–æ—Ä –ø—Ä–æ–µ–∫—Ç–∞
2.1 –ù–∞–∑–≤–∞–Ω–∏–µ –∏ –æ–ø–∏—Å–∞–Ω–∏–µ
–ù–∞–∑–≤–∞–Ω–∏–µ: MediaSyndicate
Tagline: "–û–¥–Ω–∞ –Ω–æ–≤–æ—Å—Ç—å –∏–∑ –≤—Å–µ—Ö –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤"
–û–ø–∏—Å–∞–Ω–∏–µ:
–£–∫—Ä–∞–∏–Ω—Å–∫–∏–π –Ω–æ–≤–æ—Å—Ç–Ω–æ–π –∞–≥—Ä–µ–≥–∞—Ç–æ—Ä —Å AI-–∞–Ω–∞–ª–∏–∑–æ–º, –∫–æ—Ç–æ—Ä—ã–π –ø–æ–º–æ–≥–∞–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º —Ñ–æ—Ä–º–∏—Ä–æ–≤–∞—Ç—å –æ–±—ä–µ–∫—Ç–∏–≤–Ω–æ–µ –º–Ω–µ–Ω–∏–µ –æ —Å–æ—Ü–∏–∞–ª—å–Ω–æ-–ø–æ–ª–∏—Ç–∏—á–µ—Å–∫–∏—Ö —è–≤–ª–µ–Ω–∏—è—Ö, –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è—è –∫–æ–º–ø–ª–µ–∫—Å–Ω–æ–µ –æ—Å–≤–µ—â–µ–Ω–∏–µ –∏–∑ –º–Ω–æ–∂–µ—Å—Ç–≤–∞ –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤.
2.2 –ü—Ä–æ–±–ª–µ–º–∞
–¢–µ–∫—É—â–∞—è —Å–∏—Ç—É–∞—Ü–∏—è:

–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ —á–∏—Ç–∞—é—Ç –Ω–æ–≤–æ—Å—Ç–∏ –∏–∑ –æ–¥–Ω–æ–≥–æ –∏—Å—Ç–æ—á–Ω–∏–∫–∞
–ù–µ—Ç –ø–æ–Ω–∏–º–∞–Ω–∏—è –ø–æ–ª–Ω–æ–π –∫–∞—Ä—Ç–∏–Ω—ã —Å–æ–±—ã—Ç–∏—è
–î—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –≤ –ª–µ–Ω—Ç–µ
–°–ª–æ–∂–Ω–æ –æ—Ç—Å–ª–µ–¥–∏—Ç—å —Ä–∞–∑–≤–∏—Ç–∏–µ —Ç–µ–º—ã

–†–µ—à–µ–Ω–∏–µ MediaSyndicate:

–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ –¥—É–±–ª–∏–∫–∞—Ç–æ–≤
–ï–¥–∏–Ω–æ–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤–æ—Å—Ç–∏ –∏–∑ –≤—Å–µ—Ö –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤
–•—Ä–æ–Ω–æ–ª–æ–≥–∏—è —Ä–∞–∑–≤–∏—Ç–∏—è (–ì–û–†–ï–ù–ò–ï)
–î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π —Ä–µ–π—Ç–∏–Ω–≥ –∞–∫—Ç—É–∞–ª—å–Ω–æ—Å—Ç–∏

2.3 –ö–ª—é—á–µ–≤—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ (MVP)
2.3.1 –ò–º–ø–æ—Ä—Ç –∫–æ–Ω—Ç–µ–Ω—Ç–∞
–ò—Å—Ç–æ—á–Ω–∏–∫–∏:

RSS –ª–µ–Ω—Ç—ã (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –∏–º–ø–æ—Ä—Ç –∫–∞–∂–¥—ã–µ 15 –º–∏–Ω—É—Ç)
Telegram –∫–∞–Ω–∞–ª—ã (–º–µ—Ç—Ä–∏–∫–∏: views, forwards, reactions, replies)

–ö—Ä–∏—Ç–∏—á–Ω–æ: UkraineFilter - —Ç–æ–ª—å–∫–æ –Ω–æ–≤–æ—Å—Ç–∏ –æ–± –£–∫—Ä–∞–∏–Ω–µ
–°–ø–∏—Å–æ–∫ –Ω–∞—á–∞–ª—å–Ω—ã—Ö –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤:
RSS:

BBC Ukraine
–£–∫—Ä–∞—ó–Ω—Å—å–∫–∞ –ø—Ä–∞–≤–¥–∞
–°—É—Å–ø—ñ–ª—å–Ω–µ
–ù–í (nv.ua)
LB.ua
–¶–µ–Ω–∑–æ—Ä.net
–ì–ª–∞–≤–∫–æ–º
Detector.media

Telegram:

@bbcnews_ua
@pravda_com_ua
@suspilne_news
(+ –¥—Ä—É–≥–∏–µ –≤–µ—Ä–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∫–∞–Ω–∞–ª—ã)

2.3.2 AI-–∞–Ω–∞–ª–∏–∑ —Å—Ç–∞—Ç–µ–π
–ö–∞—Ç–µ–≥–æ—Ä–∏–∑–∞—Ü–∏—è (8 –∫–∞—Ç–µ–≥–æ—Ä–∏–π):

–ì–µ–æ–ø–æ–ª–∏—Ç–∏–∫–∞
–ü–æ–ª–∏—Ç–∏–∫–∞
–ì–æ—Å—É–¥–∞—Ä—Å—Ç–≤–µ–Ω–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ
–≠–∫–æ–Ω–æ–º–∏–∫–∞
–≠–º–º–∏–≥—Ä–∞—Ü–∏—è
–£–∫—Ä–∞–∏–Ω—Å–∫–æ-—Ä–æ—Å—Å–∏–π—Å–∫–∞—è –≤–æ–π–Ω–∞
–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å
–ü—Ä–∞–≤–æ

–ò–∑–≤–ª–µ—á–µ–Ω–∏–µ entities:

–õ—é–¥–∏ (–∏–º—è + —Ñ–∞–º–∏–ª–∏—è)
–û—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏

–ì–µ–Ω–µ—Ä–∞—Ü–∏—è summary:

2-3 –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è –Ω–∞ —Ä—É—Å—Å–∫–æ–º —è–∑—ã–∫–µ
–ö–ª—é—á–µ–≤–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –∏–∑ —Å—Ç–∞—Ç—å–∏

2.3.3 –í–µ–∫—Ç–æ—Ä–Ω—ã–π –ø–æ–∏—Å–∫
–°–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–∏–π –ø–æ–∏—Å–∫:

–ü–æ–∏—Å–∫ –ø–æ —Ç–µ–∫—Å—Ç–æ–≤–æ–º—É –∑–∞–ø—Ä–æ—Å—É
–§–∏–ª—å—Ç—Ä—ã: –∫–∞—Ç–µ–≥–æ—Ä–∏–∏, –∏—Å—Ç–æ—á–Ω–∏–∫–∏, –¥–∞—Ç—ã
MVP: HuggingFace embeddings (384-–º–µ—Ä–Ω—ã–π –≤–µ–∫—Ç–æ—Ä)
Future: Ollama self-hosted (768-–º–µ—Ä–Ω—ã–π –≤–µ–∫—Ç–æ—Ä)

–ü–æ—Ö–æ–∂–∏–µ —Å—Ç–∞—Ç—å–∏:

–ù–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ –¥–µ—Ç–∞–ª–∏ –ø–æ–¥ summary
5-10 –Ω–∞–∏–±–æ–ª–µ–µ —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω—ã—Ö

–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –¥–µ–¥—É–ø–ª–∏–∫–∞—Ü–∏—è:

Similarity > 0.85 = –¥—É–±–ª–∏–∫–∞—Ç
2+ –∏—Å—Ç–æ—á–Ω–∏–∫–∞ ‚Üí —Å–æ–∑–¥–∞–Ω–∏–µ –∫–ª–∞—Å—Ç–µ—Ä–∞
AI-–≥–µ–Ω–µ—Ä–∞—Ü–∏—è –æ–±—â–µ–≥–æ summary

–ì–û–†–ï–ù–ò–ï (—Ä–∞–∑–≤–∏—Ç–∏–µ —Ç–µ–º—ã):

–•—Ä–æ–Ω–æ–ª–æ–≥–∏—è —Å—Ç–∞—Ç–µ–π –ø–æ —Ç–µ–º–µ
–ü–æ–∏—Å–∫ –ø–æ entities (–ª—é–¥–∏, –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏)
–°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –ø–æ –≤—Ä–µ–º–µ–Ω–∏ –ø—É–±–ª–∏–∫–∞—Ü–∏–∏

2.3.4 –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π —Ä–µ–π—Ç–∏–Ω–≥
–§–æ—Ä–º—É–ª–∞ (Mediametrics):
–†–µ–π—Ç–∏–Ω–≥ = (views √ó 0.05 + forwards √ó 8 + reactions √ó 3 + replies √ó 5) - (age √ó 2)

–≥–¥–µ age = –≤–æ–∑—Ä–∞—Å—Ç —Å—Ç–∞—Ç—å–∏ –≤ —á–∞—Å–∞—Ö
–ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:

Telegram –º–µ—Ç—Ä–∏–∫–∏ (engagement): 70%
–°–≤–µ–∂–µ—Å—Ç—å (decay): 30%

–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ:

–ö–∞–∂–¥—ã–µ 15 –º–∏–Ω—É—Ç
–ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ Redis (TTL: 15 –º–∏–Ω)

–†–µ–π—Ç–∏–Ω–≥-–±–æ—Ä–¥:

–¢–æ–ø-50 –Ω–æ–≤–æ—Å—Ç–µ–π
–ö–ª–∞—Å—Ç–µ—Ä—ã + –æ—Ç–¥–µ–ª—å–Ω—ã–µ —Å—Ç–∞—Ç—å–∏ –≤–º–µ—Å—Ç–µ
–í—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫–Ω–∞: [–ß–∞—Å] [–î–µ–Ω—å] [–ù–µ–¥–µ–ª—è]

–í–∏–∑—É–∞–ª—å–Ω—ã–µ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã:

üî• –ì–æ—Ä—è—á–∞—è (—Ä–æ—Å—Ç >50 –∑–∞ 15 –º–∏–Ω)
‚ö° –ë—ã—Å—Ç—Ä–æ—Ä–∞—Å—Ç—É—â–∞—è (—Ä–æ—Å—Ç >20 –∑–∞ 15 –º–∏–Ω)
üÜï –ù–æ–≤–∞—è (<1 —á–∞—Å–∞)

2.3.5 –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º—ã–µ –ª–µ–Ω—Ç—ã
UX –Ω–∞ –≥–ª–∞–≤–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü–µ:
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ [–í—Å–µ] [–í–æ–π–Ω–∞] [–ó–∞–ø–æ—Ä–æ–∂—å–µ] [+–°–æ–∑–¥–∞—Ç—å]  ‚îÇ ‚Üê –¢–∞–±—ã
‚îÇ                                         ‚îÇ
‚îÇ üîç –ü–æ–∏—Å–∫: [____________]               ‚îÇ
‚îÇ üìÅ –ò—Å—Ç–æ—á–Ω–∏–∫–∏: ‚òëÔ∏è BBC ‚òëÔ∏è –£–ü             ‚îÇ
‚îÇ üè∑Ô∏è –ö–∞—Ç–µ–≥–æ—Ä–∏–∏: ‚òëÔ∏è –í–æ–π–Ω–∞ ‚òê –≠–∫–æ–Ω–æ–º–∏–∫–∞    ‚îÇ
‚îÇ üìÖ –î–∞—Ç–∞: —Å [...] –ø–æ [...]              ‚îÇ
‚îÇ                                         ‚îÇ
‚îÇ [üíæ –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –∫–∞–∫ —Ç–∞–±]  [üîÑ –°–±—Ä–æ—Å–∏—Ç—å]  ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
–°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ñ–∏–ª—å—Ç—Ä–æ–≤:
json{
  "search": "–ó–∞–ø–æ—Ä–æ–∂—å–µ",
  "sources": ["uuid-1", "uuid-2"],
  "categories": ["UKRAINE_WAR", "SECURITY"],
  "dateFrom": "2024-11-01",
  "dateTo": null
}
```

**Telegram –±–æ—Ç:**
- Real-time —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –ø–æ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω—ã–º —Ñ–∏–ª—å—Ç—Ä–∞–º
- –ö–æ–º–∞–Ω–¥—ã: /start, /feeds, /subscribe
- –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

#### **2.3.6 –°—Ç—Ä–∞–Ω–∏—Ü–∞ –¥–µ—Ç–∞–ª–∏ –Ω–æ–≤–æ—Å—Ç–∏**

**–î–ª—è –∫–ª–∞—Å—Ç–µ—Ä–∞:**
```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ –û–±—Å—Ç—Ä–µ–ª –ó–∞–ø–æ—Ä–æ–∂—Å–∫–æ–π –ê–≠–°                ‚îÇ
‚îÇ üè∑Ô∏è –£–∫—Ä–∞–∏–Ω—Å–∫–æ-—Ä–æ—Å—Å–∏–π—Å–∫–∞—è –≤–æ–π–Ω–∞         ‚îÇ
‚îÇ üî• #3 –≤ —Ä–µ–π—Ç–∏–Ω–≥–µ | –†–µ–π—Ç–∏–Ω–≥: 4,850     ‚îÇ
‚îÇ                                         ‚îÇ
‚îÇ üìù SUMMARY (AI-generated):             ‚îÇ
‚îÇ "–†–æ—Å—Å–∏—è –Ω–∞–Ω–µ—Å–ª–∞ —É–¥–∞—Ä –ø–æ –ó–∞–ø–æ—Ä–æ–∂—Å–∫–æ–π    ‚îÇ
‚îÇ –æ–±–ª–∞—Å—Ç–∏. –ì–°–ß–° —Å–æ–æ–±—â–∞–µ—Ç –æ —Ä–∞–∑—Ä—É—à–µ–Ω–∏—è—Ö   ‚îÇ
‚îÇ –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—ã..."                      ‚îÇ
‚îÇ                                         ‚îÇ
‚îÇ üì∞ –ò–°–¢–û–ß–ù–ò–ö–ò (5):                      ‚îÇ
‚îÇ ‚Ä¢ BBC Ukraine ‚Üí [—á–∏—Ç–∞—Ç—å –æ—Ä–∏–≥–∏–Ω–∞–ª]      ‚îÇ
‚îÇ ‚Ä¢ –£–∫—Ä–∞—ó–Ω—Å—å–∫–∞ –ø—Ä–∞–≤–¥–∞ ‚Üí [—á–∏—Ç–∞—Ç—å]         ‚îÇ
‚îÇ ‚Ä¢ –°—É—Å–ø—ñ–ª—å–Ω–µ ‚Üí [—á–∏—Ç–∞—Ç—å]                 ‚îÇ
‚îÇ ‚Ä¢ –ù–í ‚Üí [—á–∏—Ç–∞—Ç—å]                        ‚îÇ
‚îÇ ‚Ä¢ LB.ua ‚Üí [—á–∏—Ç–∞—Ç—å]                     ‚îÇ
‚îÇ                                         ‚îÇ
‚îÇ üîó –ü–û–•–û–ñ–ò–ï –°–¢–ê–¢–¨–ò (7)                  ‚îÇ
‚îÇ ‚Ä¢ "–ú–ê–ì–ê–¢–≠ –ø—Ä–æ–≤–µ—Ä–∏—Ç –ø–æ—Å–ª–µ–¥—Å—Ç–≤–∏—è..."     ‚îÇ
‚îÇ ‚Ä¢ "–ó–µ–ª–µ–Ω—Å–∫–∏–π —Ç—Ä–µ–±—É–µ—Ç —Å–∞–Ω–∫—Ü–∏–π..."       ‚îÇ
‚îÇ                                         ‚îÇ
‚îÇ üî• –ì–û–†–ï–ù–ò–ï (—Ä–∞–∑–≤–∏—Ç–∏–µ —Ç–µ–º—ã):            ‚îÇ
‚îÇ üìÖ 14 –Ω–æ—è–±—Ä—è - "–û–±—Å—Ç—Ä–µ–ª –ê–≠–°"           ‚îÇ
‚îÇ üìÖ 15 –Ω–æ—è–±—Ä—è - "–ú–ê–ì–ê–¢–≠ –ø—Ä–∏–±—ã–ª–∞"        ‚îÇ
‚îÇ üìÖ 16 –Ω–æ—è–±—Ä—è - "–†–µ–∑—É–ª—å—Ç–∞—Ç—ã –ø—Ä–æ–≤–µ—Ä–∫–∏"   ‚îÇ
‚îÇ üìÖ 17 –Ω–æ—è–±—Ä—è - "–ó–µ–ª–µ–Ω—Å–∫–∏–π: —Å–∞–Ω–∫—Ü–∏–∏"    ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

**–î–ª—è –æ–¥–∏–Ω–æ—á–Ω–æ–π –Ω–æ–≤–æ—Å—Ç–∏:**
- Summary
- –ü–æ—Ö–æ–∂–∏–µ —Å—Ç–∞—Ç—å–∏
- –ì–û–†–ï–ù–ò–ï

### 2.4 User Stories

**US-1: –ü—Ä–æ—Å–º–æ—Ç—Ä —Ä–µ–π—Ç–∏–Ω–≥–∞**
```
–ö–∞–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å,
–Ø —Ö–æ—á—É –≤–∏–¥–µ—Ç—å —Ç–æ–ø-50 –∞–∫—Ç—É–∞–ª—å–Ω—ã—Ö –Ω–æ–≤–æ—Å—Ç–µ–π
–ß—Ç–æ–±—ã –±—ã—Ç—å –≤ –∫—É—Ä—Å–µ –≥–ª–∞–≤–Ω—ã—Ö —Å–æ–±—ã—Ç–∏–π
```

**US-2: –°–æ–∑–¥–∞–Ω–∏–µ –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω–æ–π –ª–µ–Ω—Ç—ã**
```
–ö–∞–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å,
–Ø —Ö–æ—á—É —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å —Ñ–∏–ª—å—Ç—Ä—ã –≤ —Ç–∞–±
–ß—Ç–æ–±—ã –±—ã—Å—Ç—Ä–æ –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å—Å—è –∫ –∏–Ω—Ç–µ—Ä–µ—Å—É—é—â–∏–º –º–µ–Ω—è —Ç–µ–º–∞–º
```

**US-3: –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ —Ä–∞–∑–≤–∏—Ç–∏—è —Ç–µ–º—ã**
```
–ö–∞–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å,
–Ø —Ö–æ—á—É –≤–∏–¥–µ—Ç—å —Ö—Ä–æ–Ω–æ–ª–æ–≥–∏—é —Ä–∞–∑–≤–∏—Ç–∏—è –Ω–æ–≤–æ—Å—Ç–∏ (–ì–û–†–ï–ù–ò–ï)
–ß—Ç–æ–±—ã –ø–æ–Ω—è—Ç—å, –∫–∞–∫ —Ä–∞–∑–≤–∏–≤–∞–ª–∞—Å—å —Å–∏—Ç—É–∞—Ü–∏—è
```

**US-4: –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –≤ Telegram**
```
–ö–∞–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å,
–Ø —Ö–æ—á—É –ø–æ–ª—É—á–∞—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ –Ω–æ–≤—ã—Ö —Å—Ç–∞—Ç—å—è—Ö –ø–æ –º–æ–∏–º —Ñ–∏–ª—å—Ç—Ä–∞–º
–ß—Ç–æ–±—ã –Ω–µ –ø—Ä–æ–ø—É—Å—Ç–∏—Ç—å –≤–∞–∂–Ω–æ–µ
```

**US-5: –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∏—Å—Ç–æ—á–Ω–∏–∫–∞–º–∏ (–∞–¥–º–∏–Ω)**
```
–ö–∞–∫ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä,
–Ø —Ö–æ—á—É –¥–æ–±–∞–≤–ª—è—Ç—å/—É–¥–∞–ª—è—Ç—å RSS —Ñ–∏–¥—ã –∏ Telegram –∫–∞–Ω–∞–ª—ã
–ß—Ç–æ–±—ã –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä–æ–≤–∞—Ç—å –∏—Å—Ç–æ—á–Ω–∏–∫–∏ –∫–æ–Ω—Ç–µ–Ω—Ç–∞

3. –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫
3.1 Frontend
Core Framework

Next.js 15 (App Router)

Server-side rendering (SSR)
React Server Components
API Routes –¥–ª—è backend
TypeScript



UI & Styling

TailwindCSS - —É—Ç–∏–ª–∏—Ç–∞—Ä–Ω—ã–µ —Å—Ç–∏–ª–∏
shadcn/ui - –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–Ω–∞—è –±–∏–±–ª–∏–æ—Ç–µ–∫–∞

Accordion, Alert, Badge, Button
Card, Dialog, Form, Input
Select, Tabs, Table, Tooltip


Lucide Icons - –∏–∫–æ–Ω–∫–∏
Framer Motion - –∞–Ω–∏–º–∞—Ü–∏–∏ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

State Management

TanStack Query (React Query) - —Å–µ—Ä–≤–µ—Ä–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ, –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ
Zustand - –∫–ª–∏–µ–Ω—Ç—Å–∫–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ (UI, —Ñ–∏–ª—å—Ç—Ä—ã)

Forms & Validation

React Hook Form - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ñ–æ—Ä–º–∞–º–∏
Zod - –≤–∞–ª–∏–¥–∞—Ü–∏—è —Å—Ö–µ–º


3.2 Backend
API Layer

Next.js API Routes - REST API
Prisma - ORM –¥–ª—è PostgreSQL
TypeScript - type safety –Ω–∞ –≤—Å–µ—Ö —Å–ª–æ—è—Ö

Background Jobs

BullMQ - –æ—á–µ—Ä–µ–¥–∏ –∑–∞–¥–∞—á
node-cron - —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ –∑–∞–¥–∞—á

–í–æ—Ä–∫–µ—Ä—ã:

RSS Importer (–∫–∞–∂–¥—ã–µ 15 –º–∏–Ω)
Telegram Importer (–∫–∞–∂–¥—ã–µ 15 –º–∏–Ω)
Ranking Calculator (–∫–∞–∂–¥—ã–µ 15 –º–∏–Ω)
Deduplication (on-demand)

Telegram

Grammy (–∏–ª–∏ Telegraf) - Telegram Bot API
MTProto - –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –º–µ—Ç—Ä–∏–∫ –∏–∑ –∫–∞–Ω–∞–ª–æ–≤


3.3 –ë–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
PostgreSQL 16

–û—Å–Ω–æ–≤–Ω–∞—è –ë–î (—Å—Ç–∞—Ç—å–∏, –∏—Å—Ç–æ—á–Ω–∏–∫–∏, –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏)

–¢–∞–±–ª–∏—Ü—ã:

Articles (—Å—Ç–∞—Ç—å–∏)
Clusters (–∫–ª–∞—Å—Ç–µ—Ä—ã)
Sources (RSS/Telegram –∏—Å—Ç–æ—á–Ω–∏–∫–∏)
Users (–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏)
FeedSettings (—Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω—ã–µ —Ç–∞–±—ã)
TelegramSubscriptions

–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:

JSON –ø–æ–ª—è –¥–ª—è –≥–∏–±–∫–æ—Å—Ç–∏ (entities, filters)
–ò–Ω–¥–µ–∫—Å—ã –Ω–∞ rankScore, category, publishedAt
Full-text search (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

Qdrant

–í–µ–∫—Ç–æ—Ä–Ω—ã–π –ø–æ–∏—Å–∫
–•—Ä–∞–Ω–µ–Ω–∏–µ embeddings —Å—Ç–∞—Ç–µ–π

–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è:
typescript{
  collection: 'articles',
  vectors: {
    size: 384,  // HuggingFace (MVP)
    // size: 768,  // Ollama (Future)
    distance: 'Cosine'
  },
  payload: {
    category: 'keyword',
    sourceId: 'keyword',
    publishedAt: 'integer'
  }
}
Redis

–ö—ç—à (—Ä–µ–π—Ç–∏–Ω–≥-–±–æ—Ä–¥, –≥–æ—Ä—è—á–∏–µ –Ω–æ–≤–æ—Å—Ç–∏)
BullMQ –æ—á–µ—Ä–µ–¥–∏
Rate limiting
TTL: 15 –º–∏–Ω—É—Ç –¥–ª—è –∫—ç—à–∞


3.4 AI & ML
–ê–±—Å—Ç—Ä–∞–∫—Ü–∏—è –ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–≤
typescriptinterface AIProvider {
  createEmbedding(text: string): Promise<number[]>
  analyzeArticle(title: string, content: string): Promise<Analysis>
  generateClusterSummary(articles: Article[]): Promise<string>
}
–ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ —á–µ—Ä–µ–∑ .env:
bashAI_PROVIDER=huggingface-groq  # MVP
# AI_PROVIDER=ollama           # Future
MVP Stack (–±–µ—Å–ø–ª–∞—Ç–Ω–æ)
HuggingFace Inference API:

Model: sentence-transformers/all-MiniLM-L6-v2
Embeddings: 384-–º–µ—Ä–Ω—ã–π –≤–µ–∫—Ç–æ—Ä
–õ–∏–º–∏—Ç: ~1000 –∑–∞–ø—Ä–æ—Å–æ–≤/–¥–µ–Ω—å (–±–µ—Å–ø–ª–∞—Ç–Ω–æ)

Groq API:

Model: llama-3.3-70b-versatile
–ó–∞–¥–∞—á–∏: –∫–∞—Ç–µ–≥–æ—Ä–∏–∑–∞—Ü–∏—è, entities, summary
–õ–∏–º–∏—Ç: 14,400 –∑–∞–ø—Ä–æ—Å–æ–≤/–¥–µ–Ω—å (–±–µ—Å–ø–ª–∞—Ç–Ω–æ)

Future Stack (self-hosted)
Ollama (–Ω–∞ VPS):

Embeddings: nomic-embed-text (768 dim)
LLM: llama3.1:8b –∏–ª–∏ llama3.3:70b
–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –¥–æ–æ–±—É—á–µ–Ω–∏—è
–°—Ç–æ–∏–º–æ—Å—Ç—å: $0 (VPS —É–∂–µ –æ–ø–ª–∞—á–µ–Ω)

–ú–∏–≥—Ä–∞—Ü–∏—è HuggingFace ‚Üí Ollama:
typescript// 1. –°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—É—é –∫–æ–ª–ª–µ–∫—Ü–∏—é Qdrant —Å size: 768
// 2. –†–µ–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å embeddings –¥–ª—è –≤—Å–µ—Ö —Å—Ç–∞—Ç–µ–π
// 3. –ü–µ—Ä–µ–∫–ª—é—á–∏—Ç—å AI_PROVIDER –≤ .env
// 4. –£–¥–∞–ª–∏—Ç—å —Å—Ç–∞—Ä—É—é –∫–æ–ª–ª–µ–∫—Ü–∏—é

3.5 Infrastructure
Containerization

Docker - –≤—Å–µ —Å–µ—Ä–≤–∏—Å—ã –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞—Ö
Docker Compose - –æ—Ä–∫–µ—Å—Ç—Ä–∞—Ü–∏—è

–ö–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã:

app - Next.js –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
worker - Background jobs
postgres - –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
qdrant - –í–µ–∫—Ç–æ—Ä–Ω–∞—è –ë–î
redis - –ö—ç—à + –æ—á–µ—Ä–µ–¥–∏

Hosting

VPS (31.172.75.175)

Provider: Hetzner/Contabo
RAM: 8GB
CPU: 4 cores
SSD: 80GB


Dokploy - deployment –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞
Caddy - reverse proxy + SSL

CI/CD

GitHub Actions - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –¥–µ–ø–ª–æ–π
Docker Registry - —Ö—Ä–∞–Ω–µ–Ω–∏–µ –æ–±—Ä–∞–∑–æ–≤

Workflow:
yaml# .github/workflows/deploy.yml

on:
  push:
    branches: [main]

jobs:
  deploy:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v3
      - name: Build & Push Docker images
      - name: Deploy to VPS via Dokploy
```

---

### 3.6 Development Tools

- **TypeScript** - –≤–µ–∑–¥–µ
- **ESLint + Prettier** - code style
- **Prisma Studio** - –≤–∏–∑—É–∞–ª—å–Ω—ã–π —Ä–µ–¥–∞–∫—Ç–æ—Ä –ë–î
- **Postman** - —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ API
- **VS Code** - IDE
- **Git** - version control

---

## 4. –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Å–∏—Å—Ç–µ–º—ã

### 4.1 –û–±—â–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞
```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                    FRONTEND LAYER                        ‚îÇ
‚îÇ              Next.js 15 (App Router + RSC)              ‚îÇ
‚îÇ                                                          ‚îÇ
‚îÇ  Pages:                                                  ‚îÇ
‚îÇ  ‚îú‚îÄ / (–≥–ª–∞–≤–Ω–∞—è —Å —Ç–∞–±–∞–º–∏ –∏ —Ñ–∏–ª—å—Ç—Ä–∞–º–∏)                   ‚îÇ
‚îÇ  ‚îÇ   ‚îú‚îÄ –¢–∞–±—ã: [–í—Å–µ] [–í–æ–π–Ω–∞] [–ü–æ–ª–∏—Ç–∏–∫–∞] [+]            ‚îÇ
‚îÇ  ‚îÇ   ‚îú‚îÄ –§–∏–ª—å—Ç—Ä—ã: –ø–æ–∏—Å–∫, –∏—Å—Ç–æ—á–Ω–∏–∫–∏, –∫–∞—Ç–µ–≥–æ—Ä–∏–∏, –¥–∞—Ç—ã    ‚îÇ
‚îÇ  ‚îÇ   ‚îú‚îÄ –ö–Ω–æ–ø–∫–∞: [üíæ –°–æ—Ö—Ä–∞–Ω–∏—Ç—å —Ñ–∏–ª—å—Ç—Ä—ã]                ‚îÇ
‚îÇ  ‚îÇ   ‚îî‚îÄ –†–µ–π—Ç–∏–Ω–≥-–±–æ—Ä–¥ (–∫–ª–∞—Å—Ç–µ—Ä—ã + —Å—Ç–∞—Ç—å–∏)              ‚îÇ
‚îÇ  ‚îÇ                                                      ‚îÇ
‚îÇ  ‚îú‚îÄ /news/[slug]-[id] (–¥–µ—Ç–∞–ª–∏ –Ω–æ–≤–æ—Å—Ç–∏)                 ‚îÇ
‚îÇ  ‚îú‚îÄ /cluster/[slug]-[id] (–¥–µ—Ç–∞–ª–∏ –∫–ª–∞—Å—Ç–µ—Ä–∞)             ‚îÇ
‚îÇ  ‚îÇ   ‚îú‚îÄ Summary                                         ‚îÇ
‚îÇ  ‚îÇ   ‚îú‚îÄ –ò—Å—Ç–æ—á–Ω–∏–∫–∏ (–¥–ª—è –∫–ª–∞—Å—Ç–µ—Ä–∞)                       ‚îÇ
‚îÇ  ‚îÇ   ‚îú‚îÄ –ü–æ—Ö–æ–∂–∏–µ —Å—Ç–∞—Ç—å–∏                                 ‚îÇ
‚îÇ  ‚îÇ   ‚îî‚îÄ –ì–û–†–ï–ù–ò–ï (—Ä–∞–∑–≤–∏—Ç–∏–µ —Ç–µ–º—ã)                        ‚îÇ
‚îÇ  ‚îÇ                                                      ‚îÇ
‚îÇ  ‚îú‚îÄ /search (—Å–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–∏–π –ø–æ–∏—Å–∫)                       ‚îÇ
‚îÇ  ‚îî‚îÄ /admin (–∞–¥–º–∏–Ω –ø–∞–Ω–µ–ª—å)                               ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                   ‚îÇ Next.js API Routes (REST)
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                     API LAYER                            ‚îÇ
‚îÇ                                                          ‚îÇ
‚îÇ  Public Endpoints:                                       ‚îÇ
‚îÇ  ‚îú‚îÄ GET  /api/articles (—Ä–µ–π—Ç–∏–Ω–≥-–±–æ—Ä–¥)                  ‚îÇ
‚îÇ  ‚îÇ        ?window=hour&category=UKRAINE_WAR            ‚îÇ
‚îÇ  ‚îú‚îÄ GET  /api/articles/[id] (–¥–µ—Ç–∞–ª–∏)                   ‚îÇ
‚îÇ  ‚îú‚îÄ GET  /api/articles/[id]/similar                    ‚îÇ
‚îÇ  ‚îú‚îÄ GET  /api/articles/[id]/timeline (–ì–û–†–ï–ù–ò–ï)         ‚îÇ
‚îÇ  ‚îú‚îÄ POST /api/search (—Å–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–∏–π –ø–æ–∏—Å–∫)              ‚îÇ
‚îÇ  ‚îÇ                                                      ‚îÇ
‚îÇ  Authenticated:                                          ‚îÇ
‚îÇ  ‚îú‚îÄ GET  /api/feeds (–º–æ–∏ —Ç–∞–±—ã)                         ‚îÇ
‚îÇ  ‚îú‚îÄ POST /api/feeds (—Å–æ—Ö—Ä–∞–Ω–∏—Ç—å —Ç–∞–±)                    ‚îÇ
‚îÇ  ‚îú‚îÄ PATCH /api/feeds/[id]                              ‚îÇ
‚îÇ  ‚îú‚îÄ DELETE /api/feeds/[id]                             ‚îÇ
‚îÇ  ‚îÇ                                                      ‚îÇ
‚îÇ  Admin:                                                  ‚îÇ
‚îÇ  ‚îú‚îÄ GET  /api/admin/dashboard                          ‚îÇ
‚îÇ  ‚îú‚îÄ GET  /api/admin/sources                            ‚îÇ
‚îÇ  ‚îú‚îÄ POST /api/admin/sources                            ‚îÇ
‚îÇ  ‚îú‚îÄ GET  /api/admin/clusters                           ‚îÇ
‚îÇ  ‚îú‚îÄ POST /api/admin/clusters/merge                     ‚îÇ
‚îÇ  ‚îú‚îÄ GET  /api/admin/logs                               ‚îÇ
‚îÇ  ‚îÇ                                                      ‚îÇ
‚îÇ  Telegram:                                               ‚îÇ
‚îÇ  ‚îî‚îÄ POST /api/telegram/webhook                         ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                   ‚îÇ
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                  SERVICE LAYER                           ‚îÇ
‚îÇ                                                          ‚îÇ
‚îÇ  ‚îú‚îÄ AIService (–∞–±—Å—Ç—Ä–∞–∫—Ü–∏—è –ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–≤)                  ‚îÇ
‚îÇ  ‚îÇ   ‚îú‚îÄ createEmbedding() - –≤–µ–∫—Ç–æ—Ä—ã                     ‚îÇ
‚îÇ  ‚îÇ   ‚îú‚îÄ analyzeArticle() - –∫–∞—Ç–µ–≥–æ—Ä–∏—è, entities, summary ‚îÇ
‚îÇ  ‚îÇ   ‚îî‚îÄ generateClusterSummary()                        ‚îÇ
‚îÇ  ‚îÇ                                                       ‚îÇ
‚îÇ  ‚îú‚îÄ ImportService                                        ‚îÇ
‚îÇ  ‚îÇ   ‚îú‚îÄ RSSImporter (–∫–∞–∂–¥—ã–µ 15 –º–∏–Ω)                    ‚îÇ
‚îÇ  ‚îÇ   ‚îú‚îÄ TelegramImporter (–∫–∞–∂–¥—ã–µ 15 –º–∏–Ω)               ‚îÇ
‚îÇ  ‚îÇ   ‚îî‚îÄ UkraineFilter (—Ç–æ–ª—å–∫–æ UA –Ω–æ–≤–æ—Å—Ç–∏)              ‚îÇ
‚îÇ  ‚îÇ                                                       ‚îÇ
‚îÇ  ‚îú‚îÄ DeduplicationService                                 ‚îÇ
‚îÇ  ‚îÇ   ‚îú‚îÄ findDuplicates() (Qdrant, similarity >0.85)    ‚îÇ
‚îÇ  ‚îÇ   ‚îú‚îÄ createCluster() (2+ —Å—Ç–∞—Ç—å–∏)                    ‚îÇ
‚îÇ  ‚îÇ   ‚îî‚îÄ generateClusterSummary()                        ‚îÇ
‚îÇ  ‚îÇ                                                       ‚îÇ
‚îÇ  ‚îú‚îÄ RankingService                                       ‚îÇ
‚îÇ  ‚îÇ   ‚îú‚îÄ calculateRankings() (–∫–∞–∂–¥—ã–µ 15 –º–∏–Ω)            ‚îÇ
‚îÇ  ‚îÇ   ‚îú‚îÄ updateCache() (Redis)                           ‚îÇ
‚îÇ  ‚îÇ   ‚îî‚îÄ detectTrending() (üî•‚ö°üÜï)                        ‚îÇ
‚îÇ  ‚îÇ                                                       ‚îÇ
‚îÇ  ‚îú‚îÄ SearchService                                        ‚îÇ
‚îÇ  ‚îÇ   ‚îú‚îÄ semanticSearch() (Qdrant)                      ‚îÇ
‚îÇ  ‚îÇ   ‚îú‚îÄ findSimilar()                                   ‚îÇ
‚îÇ  ‚îÇ   ‚îî‚îÄ findTimeline() (–ì–û–†–ï–ù–ò–ï)                       ‚îÇ
‚îÇ  ‚îÇ                                                       ‚îÇ
‚îÇ  ‚îú‚îÄ TelegramBotService                                   ‚îÇ
‚îÇ  ‚îÇ   ‚îú‚îÄ sendArticle() (real-time –ø–æ —Ñ–∏–ª—å—Ç—Ä–∞–º)          ‚îÇ
‚îÇ  ‚îÇ   ‚îú‚îÄ updateSettings()                                 ‚îÇ
‚îÇ  ‚îÇ   ‚îî‚îÄ sendDigest() (–∫–∞–Ω–∞–ª –ø—Ä–æ–µ–∫—Ç–∞)                    ‚îÇ
‚îÇ  ‚îÇ                                                       ‚îÇ
‚îÇ  ‚îî‚îÄ AdminService                                         ‚îÇ
‚îÇ      ‚îú‚îÄ getDashboardStats()                              ‚îÇ
‚îÇ      ‚îú‚îÄ mergeClusters()                                  ‚îÇ
‚îÇ      ‚îú‚îÄ splitCluster()                                   ‚îÇ
‚îÇ      ‚îî‚îÄ testRSSConnection()                              ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                   ‚îÇ
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                    DATA LAYER                            ‚îÇ
‚îÇ                                                          ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê    ‚îÇ
‚îÇ  ‚îÇ PostgreSQL 16                                   ‚îÇ    ‚îÇ
‚îÇ  ‚îÇ ‚îú‚îÄ articles                                     ‚îÇ    ‚îÇ
‚îÇ  ‚îÇ ‚îú‚îÄ clusters                                     ‚îÇ    ‚îÇ
‚îÇ  ‚îÇ ‚îú‚îÄ cluster_articles                             ‚îÇ    ‚îÇ
‚îÇ  ‚îÇ ‚îú‚îÄ sources                                      ‚îÇ    ‚îÇ
‚îÇ  ‚îÇ ‚îú‚îÄ users                                        ‚îÇ    ‚îÇ
‚îÇ  ‚îÇ ‚îú‚îÄ feed_settings                                ‚îÇ    ‚îÇ
‚îÇ  ‚îÇ ‚îî‚îÄ telegram_subscriptions                       ‚îÇ    ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò    ‚îÇ
‚îÇ                                                          ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê    ‚îÇ
‚îÇ  ‚îÇ Qdrant                                          ‚îÇ    ‚îÇ
‚îÇ  ‚îÇ Collection: articles                            ‚îÇ    ‚îÇ
‚îÇ  ‚îÇ ‚îú‚îÄ vector: [384] float                          ‚îÇ    ‚îÇ
‚îÇ  ‚îÇ ‚îî‚îÄ payload: {category, sourceId, publishedAt}  ‚îÇ    ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò    ‚îÇ
‚îÇ                                                          ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê    ‚îÇ
‚îÇ  ‚îÇ Redis                                           ‚îÇ    ‚îÇ
‚îÇ  ‚îÇ ‚îú‚îÄ Cache: ranking-board (TTL: 15 –º–∏–Ω)          ‚îÇ    ‚îÇ
‚îÇ  ‚îÇ ‚îú‚îÄ BullMQ queues                                ‚îÇ    ‚îÇ
‚îÇ  ‚îÇ ‚îî‚îÄ Rate limiting                                ‚îÇ    ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò    ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò

‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ              BACKGROUND WORKERS (BullMQ)                 ‚îÇ
‚îÇ                                                          ‚îÇ
‚îÇ  ‚îú‚îÄ RSS Import Worker (–∫–∞–∂–¥—ã–µ 15 –º–∏–Ω)                   ‚îÇ
‚îÇ  ‚îú‚îÄ Telegram Import Worker (–∫–∞–∂–¥—ã–µ 15 –º–∏–Ω)              ‚îÇ
‚îÇ  ‚îú‚îÄ Ranking Worker (–∫–∞–∂–¥—ã–µ 15 –º–∏–Ω)                      ‚îÇ
‚îÇ  ‚îú‚îÄ Deduplication Worker (on-demand)                    ‚îÇ
‚îÇ  ‚îî‚îÄ Telegram Bot Worker (real-time)                     ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

---

### 4.2 –ü–æ—Ç–æ–∫–∏ –¥–∞–Ω–Ω—ã—Ö

#### **–§–ª–æ—É 1: –ò–º–ø–æ—Ä—Ç –Ω–æ–≤–æ–π —Å—Ç–∞—Ç—å–∏**
```
1. RSS Feed ‚Üí RSSImporter –æ–±–Ω–∞—Ä—É–∂–∏–≤–∞–µ—Ç –Ω–æ–≤—É—é —Å—Ç–∞—Ç—å—é
   ‚îî‚îÄ –ò–∑–≤–ª–µ–∫–∞–µ—Ç: title, content, url, publishedAt

2. UkraineFilter –∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç
   ‚îú‚îÄ AIService.analyzeArticle() - –ø—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ "–£–∫—Ä–∞–∏–Ω–∞"
   ‚îî‚îÄ –†–µ—à–µ–Ω–∏–µ:
       ‚îú‚îÄ ‚úÖ –ü—Ä–æ –£–∫—Ä–∞–∏–Ω—É ‚Üí –ø—Ä–æ–¥–æ–ª–∂–∞–µ–º
       ‚îî‚îÄ ‚ùå –ù–ï –ø—Ä–æ –£–∫—Ä–∞–∏–Ω—É ‚Üí –æ—Ç–±—Ä–∞—Å—ã–≤–∞–µ–º, return

3. AIService.analyzeArticle()
   ‚îú‚îÄ –ö–∞—Ç–µ–≥–æ—Ä–∏—è: UKRAINE_WAR
   ‚îú‚îÄ Entities: {people: ["–ó–µ–ª–µ–Ω—Å–∫–∏–π"], organizations: ["–í–°–£"]}
   ‚îî‚îÄ Summary: "–ü—Ä–µ–∑–∏–¥–µ–Ω—Ç –∑–∞—è–≤–∏–ª –æ..."

4. AIService.createEmbedding()
   ‚îî‚îÄ Embedding: [0.123, -0.456, ...] (384 —á–∏—Å–ª–∞)

5. DeduplicationService.findDuplicates()
   ‚îú‚îÄ Qdrant.search(embedding, similarity > 0.85)
   ‚îî‚îÄ –†–µ–∑—É–ª—å—Ç–∞—Ç: –Ω–∞–π–¥–µ–Ω–æ 2 –ø–æ—Ö–æ–∂–∏—Ö —Å—Ç–∞—Ç—å–∏
   
6a. IF –Ω–∞–π–¥–µ–Ω—ã –¥—É–±–ª–∏–∫–∞—Ç—ã (2+):
    ‚îú‚îÄ DeduplicationService.createCluster()
    ‚îÇ   ‚îú‚îÄ –°–æ–∑–¥–∞—Ç—å Cluster –≤ PostgreSQL
    ‚îÇ   ‚îú‚îÄ –°–≤—è–∑–∞—Ç—å –≤—Å–µ —Å—Ç–∞—Ç—å–∏ —á–µ—Ä–µ–∑ cluster_articles
    ‚îÇ   ‚îî‚îÄ AIService.generateClusterSummary()
    ‚îî‚îÄ –í–µ—Ä–Ω—É—Ç—å { type: 'cluster', id: clusterId }
    
6b. ELSE (–¥—É–±–ª–∏–∫–∞—Ç–æ–≤ –Ω–µ—Ç):
    ‚îî‚îÄ –°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—É—é —Å—Ç–∞—Ç—å—é
       ‚îî‚îÄ –í–µ—Ä–Ω—É—Ç—å { type: 'article', id: articleId }

7. –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ:
   ‚îú‚îÄ PostgreSQL: INSERT article (–∏–ª–∏ UPDATE –µ—Å–ª–∏ –¥–æ–±–∞–≤–ª—è–µ–º –≤ –∫–ª–∞—Å—Ç–µ—Ä)
   ‚îú‚îÄ Qdrant: UPSERT vector
   ‚îî‚îÄ Redis: INVALIDATE cache "ranking-board:*"

8. RankingService (–∑–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–æ —á–µ—Ä–µ–∑ 15 –º–∏–Ω):
   ‚îú‚îÄ –ü–µ—Ä–µ—Å—á–∏—Ç–∞—Ç—å —Ä–µ–π—Ç–∏–Ω–≥
   ‚îú‚îÄ –û–±–Ω–æ–≤–∏—Ç—å rankScore, rankPosition
   ‚îî‚îÄ –û–±–Ω–æ–≤–∏—Ç—å cache –≤ Redis

9. TelegramBotService –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –ø–æ–¥–ø–∏—Å–∫–∏:
   ‚îú‚îÄ –ü–æ–ª—É—á–∏—Ç—å –≤—Å–µ—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π —Å –∞–∫—Ç–∏–≤–Ω—ã–º–∏ –ø–æ–¥–ø–∏—Å–∫–∞–º–∏
   ‚îú‚îÄ –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ñ–∏–ª—å—Ç—Ä—ã –∫–∞–∂–¥–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
   ‚îî‚îÄ –ï—Å–ª–∏ —Å–æ–≤–ø–∞–¥–∞–µ—Ç ‚Üí –æ—Ç–ø—Ä–∞–≤–∏—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –≤ Telegram
```

---

#### **–§–ª–æ—É 2: –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–∞ –≥–ª–∞–≤–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü–µ**
```
1. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç –≥–ª–∞–≤–Ω—É—é
   ‚îî‚îÄ GET /api/articles?window=hour&category=UKRAINE_WAR

2. API –ø—Ä–æ–≤–µ—Ä—è–µ—Ç Redis cache:
   ‚îú‚îÄ key: "ranking-board:hour:UKRAINE_WAR"
   ‚îî‚îÄ IF exists (cache hit):
       ‚îú‚îÄ –í–µ—Ä–Ω—É—Ç—å –∏–∑ –∫—ç—à–∞
       ‚îî‚îÄ END
   
3. ELSE (cache miss):
   ‚îú‚îÄ PostgreSQL: 
   ‚îÇ   SELECT articles, clusters
   ‚îÇ   WHERE publishedAt > (now - 1 hour)
   ‚îÇ   AND category = 'UKRAINE_WAR'
   ‚îÇ   ORDER BY rankScore DESC
   ‚îÇ   LIMIT 50
   ‚îÇ
   ‚îú‚îÄ –û–±—ä–µ–¥–∏–Ω–∏—Ç—å —Å—Ç–∞—Ç—å–∏ + –∫–ª–∞—Å—Ç–µ—Ä—ã –≤ –µ–¥–∏–Ω—ã–π —Å–ø–∏—Å–æ–∫
   ‚îî‚îÄ –°–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –ø–æ rankScore DESC

4. –ö—ç—à–∏—Ä–æ–≤–∞—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç –≤ Redis:
   ‚îú‚îÄ key: "ranking-board:hour:UKRAINE_WAR"
   ‚îú‚îÄ value: JSON —Ä–µ–∑—É–ª—å—Ç–∞—Ç
   ‚îî‚îÄ TTL: 15 –º–∏–Ω—É—Ç

5. –í–µ—Ä–Ω—É—Ç—å –∫–ª–∏–µ–Ω—Ç—É:
   {
     items: [
       { type: 'cluster', id: '...', title: '...', rankScore: 4850, ... },
       { type: 'article', id: '...', title: '...', rankScore: 3200, ... },
       ...
     ],
     meta: {
       total: 50,
       window: 'hour',
       category: 'UKRAINE_WAR',
       lastUpdate: '2024-11-17T16:45:00Z'
     }
   }

6. Frontend –æ—Ç—Ä–∏—Å–æ–≤—ã–≤–∞–µ—Ç:
   ‚îú‚îÄ –ö–∞—Ä—Ç–æ—á–∫–∏ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ item
   ‚îú‚îÄ –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã: üî• hot, ‚ö° rising, üÜï new
   ‚îî‚îÄ Telegram –º–µ—Ç—Ä–∏–∫–∏: views, forwards
```

---

#### **–§–ª–æ—É 3: –°—Ç—Ä–∞–Ω–∏—Ü–∞ –¥–µ—Ç–∞–ª–∏ (–ì–û–†–ï–ù–ò–ï)**
```
1. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∫–ª–∏–∫–∞–µ—Ç –Ω–∞ –∫–ª–∞—Å—Ç–µ—Ä
   ‚îî‚îÄ GET /api/articles/cluster/[id]

2. PostgreSQL: –ø–æ–ª—É—á–∏—Ç—å –∫–ª–∞—Å—Ç–µ—Ä
   ‚îú‚îÄ Cluster –¥–∞–Ω–Ω—ã–µ (title, summary, rankScore)
   ‚îî‚îÄ –°–≤—è–∑–∞–Ω–Ω—ã–µ —Å—Ç–∞—Ç—å–∏ —á–µ—Ä–µ–∑ cluster_articles

3. SearchService.findSimilar()
   ‚îú‚îÄ –ü–æ–ª—É—á–∏—Ç—å embedding –æ–¥–Ω–æ–π –∏–∑ —Å—Ç–∞—Ç–µ–π –∫–ª–∞—Å—Ç–µ—Ä–∞
   ‚îú‚îÄ Qdrant.search(embedding, limit: 10)
   ‚îî‚îÄ –ò—Å–∫–ª—é—á–∏—Ç—å —Å—Ç–∞—Ç—å–∏, –∫–æ—Ç–æ—Ä—ã–µ —É–∂–µ –≤ –∫–ª–∞—Å—Ç–µ—Ä–µ

4. SearchService.findTimeline() (–ì–û–†–ï–ù–ò–ï)
   ‚îú‚îÄ –ò–∑–≤–ª–µ—á—å entities –∏–∑ –∫–ª–∞—Å—Ç–µ—Ä–∞
   ‚îÇ   ‚îî‚îÄ people: ["–ó–µ–ª–µ–Ω—Å–∫–∏–π", "..."]
   ‚îÇ   ‚îî‚îÄ organizations: ["–ú–ê–ì–ê–¢–≠", "–í–°–£"]
   ‚îÇ
   ‚îú‚îÄ PostgreSQL:
   ‚îÇ   SELECT articles
   ‚îÇ   WHERE entities @> ANY(["–ó–µ–ª–µ–Ω—Å–∫–∏–π", "–ú–ê–ì–ê–¢–≠", "–í–°–£"])
   ‚îÇ   ORDER BY publishedAt ASC
   ‚îÇ
   ‚îî‚îÄ –í–µ—Ä–Ω—É—Ç—å —Ö—Ä–æ–Ω–æ–ª–æ–≥–∏—é (timeline)

5. –í–µ—Ä–Ω—É—Ç—å –∫–ª–∏–µ–Ω—Ç—É:
   {
     cluster: {
       id: '...',
       title: '–û–±—Å—Ç—Ä–µ–ª –ó–∞–ø–æ—Ä–æ–∂—Å–∫–æ–π –ê–≠–°',
       summary: '...',
       rankScore: 4850,
       category: 'UKRAINE_WAR',
       sources: [
         { name: 'BBC Ukraine', url: '...' },
         { name: '–£–∫—Ä–∞—ó–Ω—Å—å–∫–∞ –ø—Ä–∞–≤–¥–∞', url: '...' },
         ...
       ]
     },
     similar: [
       { title: '–ú–ê–ì–ê–¢–≠ –ø—Ä–æ–≤–µ—Ä–∏—Ç...', ... },
       ...
     ],
     timeline: [
       { date: '2024-11-14', title: '–û–±—Å—Ç—Ä–µ–ª –ê–≠–°', ... },
       { date: '2024-11-15', title: '–ú–ê–ì–ê–¢–≠ –ø—Ä–∏–±—ã–ª–∞', ... },
       { date: '2024-11-16', title: '–†–µ–∑—É–ª—å—Ç–∞—Ç—ã –ø—Ä–æ–≤–µ—Ä–∫–∏', ... },
       { date: '2024-11-17', title: '–ó–µ–ª–µ–Ω—Å–∫–∏–π: —Å–∞–Ω–∫—Ü–∏–∏', ... }
     ]
   }

6. Frontend –æ—Ç—Ä–∏—Å–æ–≤—ã–≤–∞–µ—Ç:
   ‚îú‚îÄ Summary –∫–ª–∞—Å—Ç–µ—Ä–∞
   ‚îú‚îÄ –°–ø–∏—Å–æ–∫ –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤ (—Å–æ —Å—Å—ã–ª–∫–∞–º–∏)
   ‚îú‚îÄ –ë–ª–æ–∫ "–ü–æ—Ö–æ–∂–∏–µ —Å—Ç–∞—Ç—å–∏"
   ‚îî‚îÄ –ë–ª–æ–∫ "–ì–û–†–ï–ù–ò–ï" (timeline —Å –¥–∞—Ç–∞–º–∏)
```

---

#### **–§–ª–æ—É 4: –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Ç–∞–±–∞**
```
1. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç —Ñ–∏–ª—å—Ç—Ä—ã –Ω–∞ –≥–ª–∞–≤–Ω–æ–π:
   ‚îú‚îÄ –ü–æ–∏—Å–∫: "–ó–∞–ø–æ—Ä–æ–∂—å–µ"
   ‚îú‚îÄ –ò—Å—Ç–æ—á–Ω–∏–∫–∏: [BBC, –£–ü]
   ‚îú‚îÄ –ö–∞—Ç–µ–≥–æ—Ä–∏–∏: [UKRAINE_WAR]
   ‚îî‚îÄ –î–∞—Ç–∞: —Å 2024-11-01

2. UI –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –∫–Ω–æ–ø–∫—É "üíæ –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –∫–∞–∫ —Ç–∞–±"

3. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∫–ª–∏–∫–∞–µ—Ç, –≤–≤–æ–¥–∏—Ç –Ω–∞–∑–≤–∞–Ω–∏–µ:
   ‚îî‚îÄ "–°–∏—Ç—É–∞—Ü–∏—è –≤ –ó–∞–ø–æ—Ä–æ–∂—å–µ"

4. POST /api/feeds
   {
     name: "–°–∏—Ç—É–∞—Ü–∏—è –≤ –ó–∞–ø–æ—Ä–æ–∂—å–µ",
     filters: {
       search: "–ó–∞–ø–æ—Ä–æ–∂—å–µ",
       sources: ["bbc-uuid", "up-uuid"],
       categories: ["UKRAINE_WAR"],
       dateFrom: "2024-11-01"
     }
   }

5. API:
   ‚îú‚îÄ –ü—Ä–æ–≤–µ—Ä–∫–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ (NextAuth session)
   ‚îú‚îÄ PostgreSQL: INSERT feed_setting
   ‚îÇ   ‚îî‚îÄ userId: current user
   ‚îÇ   ‚îî‚îÄ name: "–°–∏—Ç—É–∞—Ü–∏—è –≤ –ó–∞–ø–æ—Ä–æ–∂—å–µ"
   ‚îÇ   ‚îî‚îÄ filters: JSON
   ‚îî‚îÄ –í–µ—Ä–Ω—É—Ç—å {id, name, filters}

6. UI –¥–æ–±–∞–≤–ª—è–µ—Ç –Ω–æ–≤—ã–π —Ç–∞–±:
   ‚îú‚îÄ [–í—Å–µ] [–í–æ–π–Ω–∞] [–ó–∞–ø–æ—Ä–æ–∂—å–µ] [+–°–æ–∑–¥–∞—Ç—å]
   ‚îî‚îÄ –ê–∫—Ç–∏–≤–Ω—ã–π —Ç–∞–±: "–ó–∞–ø–æ—Ä–æ–∂—å–µ"

7. –ü—Ä–∏ –∫–ª–∏–∫–µ –Ω–∞ —Ç–∞–± "–ó–∞–ø–æ—Ä–æ–∂—å–µ":
   ‚îú‚îÄ –ó–∞–≥—Ä—É–∑–∏—Ç—å filters –∏–∑ feed_setting
   ‚îú‚îÄ –ü—Ä–∏–º–µ–Ω–∏—Ç—å —Ñ–∏–ª—å—Ç—Ä—ã –∫ –∑–∞–ø—Ä–æ—Å—É
   ‚îî‚îÄ GET /api/articles?search=–ó–∞–ø–æ—Ä–æ–∂—å–µ&sources=...&categories=UKRAINE_WAR
```

---

#### **–§–ª–æ—É 5: –ü–µ—Ä–µ—Å—á–µ—Ç —Ä–µ–π—Ç–∏–Ω–≥–∞ (–∫–∞–∂–¥—ã–µ 15 –º–∏–Ω)**
```
1. BullMQ scheduled job (cron: */15 * * * *)
   ‚îî‚îÄ –ó–∞–ø—É—Å—Ç–∏—Ç—å RankingService.calculateRankings()

2. PostgreSQL: –ø–æ–ª—É—á–∏—Ç—å –≤—Å–µ —Å—Ç–∞—Ç—å–∏ –∑–∞ –ø–æ—Å–ª–µ–¥–Ω–∏–µ 7 –¥–Ω–µ–π
   ‚îî‚îÄ WHERE publishedAt > (now - 7 days)

3. –î–ª—è –∫–∞–∂–¥–æ–π —Å—Ç–∞—Ç—å–∏:
   ‚îú‚îÄ –ò–∑–≤–ª–µ—á—å telegramMetrics: {views, forwards, reactions, replies}
   ‚îú‚îÄ –í—ã—á–∏—Å–ª–∏—Ç—å –≤–æ–∑—Ä–∞—Å—Ç –≤ —á–∞—Å–∞—Ö: age = (now - publishedAt) / 3600
   ‚îÇ
   ‚îú‚îÄ –ü—Ä–∏–º–µ–Ω–∏—Ç—å —Ñ–æ—Ä–º—É–ª—É:
   ‚îÇ   ratingScore = (views √ó 0.05 + forwards √ó 8 + reactions √ó 3 + replies √ó 5) - (age √ó 2)
   ‚îÇ
   ‚îî‚îÄ –û–±–Ω–æ–≤–∏—Ç—å –≤ –ë–î:
       UPDATE articles
       SET ratingScore = [–Ω–æ–≤—ã–π —Ä–µ–π—Ç–∏–Ω–≥],
           rankUpdatedAt = NOW()
       WHERE id = [article_id]

4. –ê–Ω–∞–ª–æ–≥–∏—á–Ω–æ –¥–ª—è –∫–ª–∞—Å—Ç–µ—Ä–æ–≤:
   ‚îú‚îÄ –ü–æ–ª—É—á–∏—Ç—å –≤—Å–µ —Å—Ç–∞—Ç—å–∏ –∫–ª–∞—Å—Ç–µ—Ä–∞
   ‚îú‚îÄ –°—É–º–º–∏—Ä–æ–≤–∞—Ç—å –º–µ—Ç—Ä–∏–∫–∏
   ‚îú‚îÄ –†–∞—Å—Å—á–∏—Ç–∞—Ç—å —Ä–µ–π—Ç–∏–Ω–≥
   ‚îî‚îÄ –û–±–Ω–æ–≤–∏—Ç—å cluster.ratingScore

5. –°–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –ø–æ rankScore DESC:
   ‚îî‚îÄ –ü—Ä–∏—Å–≤–æ–∏—Ç—å rankPosition (1, 2, 3, ...)

6. TrendingDetector.detectTrending():
   ‚îú‚îÄ –°—Ä–∞–≤–Ω–∏—Ç—å —Ç–µ–∫—É—â–∏–π —Ä–µ–π—Ç–∏–Ω–≥ —Å –ø—Ä–µ–¥—ã–¥—É—â–∏–º (–∏–∑ Redis)
   ‚îú‚îÄ IF —Ä–æ—Å—Ç >50 –∑–∞ 15 –º–∏–Ω:
   ‚îÇ   ‚îî‚îÄ isTrending = true, trendingLevel = 'hot' üî•
   ‚îú‚îÄ IF —Ä–æ—Å—Ç >20 –∑–∞ 15 –º–∏–Ω:
   ‚îÇ   ‚îî‚îÄ isTrending = true, trendingLevel = 'rising' ‚ö°
   ‚îî‚îÄ IF –≤–æ–∑—Ä–∞—Å—Ç <1 —á–∞—Å:
       ‚îî‚îÄ trendingLevel = 'new' üÜï

7. –°–æ—Ö—Ä–∞–Ω–∏—Ç—å —Å–Ω–∞–ø—à–æ—Ç –≤ Redis –¥–ª—è —Å–ª–µ–¥—É—é—â–µ–≥–æ —Å—Ä–∞–≤–Ω–µ–Ω–∏—è:
   ‚îî‚îÄ key: "ranking-snapshot", value: {articleId: ratingScore, ...}

8. –ò–Ω–≤–∞–ª–∏–¥–∏—Ä–æ–≤–∞—Ç—å –∫—ç—à:
   ‚îî‚îÄ Redis: DEL "ranking-board:*"

9. –õ–æ–≥–∏—Ä–æ–≤–∞—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç:
   ‚îî‚îÄ "Ranking updated: 1,234 articles, 156 clusters"

5. –°—Ö–µ–º–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
5.1 PostgreSQL Schema (Prisma)
prismagenerator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

// ============================================
// –ò–°–¢–û–ß–ù–ò–ö–ò (RSS/Telegram)
// ============================================

model Source {
  id            String      @id @default(uuid())
  type          SourceType
  name          String
  url           String?     // –¥–ª—è RSS
  telegramId    BigInt?     @map("telegram_id") // –¥–ª—è Telegram
  
  isActive      Boolean     @default(true) @map("is_active")
  isVerified    Boolean     @default(false) @map("is_verified")
  
  metadata      Json?       // –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
  
  articles      Article[]
  
  createdAt     DateTime    @default(now()) @map("created_at")
  updatedAt     DateTime    @updatedAt @map("updated_at")
  
  @@index([type])
  @@index([isActive])
  @@map("sources")
}

enum SourceType {
  RSS
  TELEGRAM
}

// ============================================
// –°–¢–ê–¢–¨–ò
// ============================================

model Article {
  id            String      @id @default(uuid())
  
  // –°–≤—è–∑—å —Å –∏—Å—Ç–æ—á–Ω–∏–∫–æ–º
  sourceId      String      @map("source_id")
  source        Source      @relation(fields: [sourceId], references: [id])
  
  // –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ç–µ–Ω—Ç
  title         String
  content       String      @db.Text
  url           String      @unique
  summary       String?     @db.Text  // AI-generated
  
  // AI –∞–Ω–∞–ª–∏–∑
  category      ArticleCategory?
  entities      Json?       // {people: [], organizations: []}
  
  // Telegram –º–µ—Ç—Ä–∏–∫–∏
  telegramMetrics Json?     @map("telegram_metrics")
  // –°—Ç—Ä—É–∫—Ç—É—Ä–∞: {views: 1500, forwards: 120, reactions: 85, replies: 23}
  
  // –†–µ–π—Ç–∏–Ω–≥ (Mediametrics formula)
  ratingScore   Float       @default(0) @map("rating_score")
  rankPosition  Int?        @map("rank_position")
  rankUpdatedAt DateTime?   @map("rank_updated_at")
  
  // Trending
  isTrending    Boolean     @default(false) @map("is_trending")
  trendingLevel String?     @map("trending_level") // "hot" | "rising" | "new"
  
  // –ö–ª–∞—Å—Ç–µ—Ä–∏–∑–∞—Ü–∏—è
  clusterArticles ClusterArticle[]
  
  publishedAt   DateTime    @map("published_at")
  importedAt    DateTime    @default(now()) @map("imported_at")
  
  @@index([sourceId])
  @@index([publishedAt])
  @@index([ratingScore])
  @@index([category])
  @@map("articles")
}

enum ArticleCategory {
  GEOPOLITICS           // –ì–µ–æ–ø–æ–ª–∏—Ç–∏–∫–∞
  POLITICS              // –ü–æ–ª–∏—Ç–∏–∫–∞  
  GOVERNMENT            // –ì–æ—Å—É–¥–∞—Ä—Å—Ç–≤–µ–Ω–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ
  ECONOMY               // –≠–∫–æ–Ω–æ–º–∏–∫–∞
  EMIGRATION            // –≠–º–º–∏–≥—Ä–∞—Ü–∏—è
  UKRAINE_WAR           // –£–∫—Ä–∞–∏–Ω—Å–∫–æ-—Ä–æ—Å—Å–∏–π—Å–∫–∞—è –≤–æ–π–Ω–∞
  SECURITY              // –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å
  LAW                   // –ü—Ä–∞–≤–æ
}

// ============================================
// –ö–õ–ê–°–¢–ï–†–´ (–¥–µ–¥—É–ø–ª–∏–∫–∞—Ü–∏—è 2+ –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤)
// ============================================

model Cluster {
  id            String      @id @default(uuid())
  
  // AI-generated –æ–±—â–µ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –∫–ª–∞—Å—Ç–µ—Ä–∞
  title         String
  summary       String      @db.Text
  category      ArticleCategory?
  
  // –†–µ–π—Ç–∏–Ω–≥ –∫–ª–∞—Å—Ç–µ—Ä–∞ (–∞–≥—Ä–µ–≥–∞—Ü–∏—è —Å—Ç–∞—Ç–µ–π)
  ratingScore   Float       @default(0) @map("rating_score")
  rankPosition  Int?        @map("rank_position")
  rankUpdatedAt DateTime?   @map("rank_updated_at")
  
  // Trending
  isTrending    Boolean     @default(false) @map("is_trending")
  trendingLevel String?     @map("trending_level")
  
  // –°–≤—è–∑—å —Å–æ —Å—Ç–∞—Ç—å—è–º–∏ (N:M)
  articles      ClusterArticle[]
  
  createdAt     DateTime    @default(now()) @map("created_at")
  updatedAt     DateTime    @updatedAt @map("updated_at")
  
  @@index([ratingScore])
  @@index([category])
  @@map("clusters")
}

// –°–≤—è–∑—å –∫–ª–∞—Å—Ç–µ—Ä ‚Üî —Å—Ç–∞—Ç—å–∏ (–º–Ω–æ–≥–∏–µ –∫–æ –º–Ω–æ–≥–∏–º)
model ClusterArticle {
  id          String    @id @default(uuid())
  
  clusterId   String    @map("cluster_id")
  cluster     Cluster   @relation(fields: [clusterId], references: [id], onDelete: Cascade)
  
  articleId   String    @map("article_id")
  article     Article   @relation(fields: [articleId], references: [id], onDelete: Cascade)
  
  // –Ø–≤–ª—è–µ—Ç—Å—è –ª–∏ —ç—Ç–∞ —Å—Ç–∞—Ç—å—è "–≥–ª–∞–≤–Ω–æ–π" –≤ –∫–ª–∞—Å—Ç–µ—Ä–µ
  isPrimary   Boolean   @default(false) @map("is_primary")
  
  addedAt     DateTime  @default(now()) @map("added_at")
  
  @@unique([clusterId, articleId])
  @@index([clusterId])
  @@index([articleId])
  @@map("cluster_articles")
}

// ============================================
// –ü–û–õ–¨–ó–û–í–ê–¢–ï–õ–ò
// ============================================

model User {
  id              String      @id @default(uuid())
  email           String      @unique
  passwordHash    String      @map("password_hash")
  name            String
  role            UserRole    @default(USER)
  
  // –°–æ—Ö—Ä–∞–Ω–µ–Ω–Ω—ã–µ —Ç–∞–±—ã —Å —Ñ–∏–ª—å—Ç—Ä–∞–º–∏
  feedSettings    FeedSetting[]
  
  // Telegram –ø–æ–¥–ø–∏—Å–∫–∏
  telegramSubscriptions TelegramSubscription[]
  
  createdAt       DateTime    @default(now()) @map("created_at")
  
  @@map("users")
}

enum UserRole {
  USER       // –û–±—ã—á–Ω—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å
  MODERATOR  // –ú–æ–¥–µ—Ä–∞—Ç–æ—Ä (Phase 5)
  ADMIN      // –ü–æ–ª–Ω—ã–π –¥–æ—Å—Ç—É–ø
}

// ============================================
// –°–û–•–†–ê–ù–ï–ù–ù–´–ï –¢–ê–ë–´ (–Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —Ñ–∏–ª—å—Ç—Ä–æ–≤ –Ω–∞ –≥–ª–∞–≤–Ω–æ–π)
// ============================================

model FeedSetting {
  id            String      @id @default(uuid())
  
  userId        String      @map("user_id")
  user          User        @relation(fields: [userId], references: [id], onDelete: Cascade)
  
  name          String      // –Ω–∞–∑–≤–∞–Ω–∏–µ —Ç–∞–±–∞
  
  // –§–∏–ª—å—Ç—Ä—ã
  filters       Json
  // –°—Ç—Ä—É–∫—Ç—É—Ä–∞: {
  //   search: "–ó–∞–ø–æ—Ä–æ–∂—å–µ",
  //   sources: ["uuid-1", "uuid-2"],
  //   categories: ["UKRAINE_WAR"],
  //   dateFrom: "2024-11-01",
  //   dateTo: null
  // }
  
  // –ü–æ—Ä—è–¥–æ–∫ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è —Ç–∞–±–æ–≤
  order         Int         @default(0)
  
  createdAt     DateTime    @default(now()) @map("created_at")
  updatedAt     DateTime    @updatedAt @map("updated_at")
  
  @@index([userId, order])
  @@map("feed_settings")
}

// ============================================
// TELEGRAM –ë–û–¢ (–ø–æ–¥–ø–∏—Å–∫–∏ –Ω–∞ –ª–µ–Ω—Ç—ã)
// ============================================

model TelegramSubscription {
  id            String      @id @default(uuid())
  
  userId        String      @map("user_id")
  user          User        @relation(fields: [userId], references: [id], onDelete: Cascade)
  
  telegramChatId BigInt     @map("telegram_chat_id")
  
  // –ö–∞–∫–æ–π —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω—ã–π —Ç–∞–± –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å –≤ –±–æ—Ç
  feedSettingId String?     @map("feed_setting_id")
  
  isActive      Boolean     @default(true) @map("is_active")
  
  createdAt     DateTime    @default(now()) @map("created_at")
  
  @@unique([userId, telegramChatId])
  @@index([telegramChatId])
  @@index([isActive])
  @@map("telegram_subscriptions")
}

5.2 Qdrant Schema
typescript// –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –∫–æ–ª–ª–µ–∫—Ü–∏–∏

const qdrantConfig = {
  collection_name: 'articles',
  
  vectors: {
    size: 384,  // HuggingFace all-MiniLM-L6-v2 (MVP)
    // size: 768,  // Ollama nomic-embed-text (Future)
    distance: 'Cosine'
  },
  
  // –ò–Ω–¥–µ–∫—Å—ã –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ —Ñ–∏–ª—å—Ç—Ä–æ–≤–∞–Ω–∏—è
  payload_schema: {
    articleId: 'keyword',     // UUID —Å—Ç–∞—Ç—å–∏ –≤ PostgreSQL
    title: 'text',            // –î–ª—è —Ç–µ–∫—Å—Ç–æ–≤–æ–≥–æ –ø–æ–∏—Å–∫–∞
    category: 'keyword',      // –§–∏–ª—å—Ç—Ä –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
    sourceId: 'keyword',      // –§–∏–ª—å—Ç—Ä –ø–æ –∏—Å—Ç–æ—á–Ω–∏–∫—É
    publishedAt: 'integer'    // Unix timestamp –¥–ª—è —Ñ–∏–ª—å—Ç—Ä–∞ –ø–æ –¥–∞—Ç–µ
  }
}
–ü—Ä–∏–º–µ—Ä —Ç–æ—á–∫–∏ (point) –≤ Qdrant:
json{
  "id": "article-uuid",
  "vector": [0.123, -0.456, 0.789, ...],  // 384 —á–∏—Å–ª–∞
  "payload": {
    "articleId": "uuid-from-postgres",
    "title": "–û–±—Å—Ç—Ä–µ–ª –ó–∞–ø–æ—Ä–æ–∂—Å–∫–æ–π –ê–≠–°",
    "category": "UKRAINE_WAR",
    "sourceId": "bbc-uuid",
    "publishedAt": 1700236800
  }
}
```

---

### 5.3 Redis Keys
```
// –ö—ç—à —Ä–µ–π—Ç–∏–Ω–≥-–±–æ—Ä–¥–∞
ranking-board:[window]:[category]
  TTL: 15 –º–∏–Ω—É—Ç
  Value: JSON –º–∞—Å—Å–∏–≤ items

–ü—Ä–∏–º–µ—Ä—ã:
  ranking-board:hour:UKRAINE_WAR
  ranking-board:day:all
  ranking-board:week:POLITICS

// –°–Ω–∞–ø—à–æ—Ç —Ä–µ–π—Ç–∏–Ω–≥–æ–≤ –¥–ª—è –¥–µ—Ç–µ–∫—Ç–æ—Ä–∞ —Ç—Ä–µ–Ω–¥–æ–≤
ranking-snapshot
  TTL: 15 –º–∏–Ω—É—Ç
  Value: {articleId: ratingScore, ...}

// BullMQ –æ—á–µ—Ä–µ–¥–∏
bull:rss-import:*
bull:telegram-import:*
bull:ranking:*
bull:deduplication:*

// Rate limiting
rate-limit:user:[userId]:[endpoint]
  TTL: 1 –º–∏–Ω—É—Ç–∞
  Value: –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–ø—Ä–æ—Å–æ–≤

6. –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞ —Å–µ—Ä–≤–∏—Å–æ–≤
6.1 AIService - AI –∞–Ω–∞–ª–∏–∑
–†–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ: src/services/ai/AIService.ts
–ß—Ç–æ –¥–µ–ª–∞–µ—Ç:
–ê–±—Å—Ç—Ä–∞–∫—Ü–∏—è –Ω–∞–¥ AI –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞–º–∏ –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ —Å—Ç–∞—Ç–µ–π
–ú–µ—Ç–æ–¥—ã:
A. createEmbedding(text: string): Promise<number[]>
typescript// HuggingFace –ø—Ä–æ–≤–∞–π–¥–µ—Ä (MVP)
async createEmbedding(text: string) {
  const response = await fetch(
    'https://api-inference.huggingface.co/models/sentence-transformers/all-MiniLM-L6-v2',
    {
      method: 'POST',
      headers: { 'Authorization': `Bearer ${HF_API_KEY}` },
      body: JSON.stringify({ inputs: text })
    }
  )
  
  const embedding = await response.json()
  return embedding // [384 —á–∏—Å–ª–∞]
}

// Ollama –ø—Ä–æ–≤–∞–π–¥–µ—Ä (Future)
async createEmbedding(text: string) {
  const response = await fetch('http://localhost:11434/api/embeddings', {
    method: 'POST',
    body: JSON.stringify({
      model: 'nomic-embed-text',
      prompt: text
    })
  })
  
  const { embedding } = await response.json()
  return embedding // [768 —á–∏—Å–µ–ª]
}
B. analyzeArticle(title, content): Promise<Analysis>
typescriptinterface Analysis {
  category: ArticleCategory
  entities: {
    people: string[]
    organizations: string[]
  }
  summary: string
  ukraineRelevant: boolean  // –¥–ª—è UkraineFilter
}

async analyzeArticle(title: string, content: string) {
  const prompt = `
–ü—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä—É–π –Ω–æ–≤–æ—Å—Ç–Ω—É—é —Å—Ç–∞—Ç—å—é –∏ –≤–µ—Ä–Ω–∏ JSON:

–ó–∞–≥–æ–ª–æ–≤–æ–∫: ${title}
–¢–µ–∫—Å—Ç: ${content.substring(0, 1000)}

–í–µ—Ä–Ω–∏ JSON:
{
  "category": "UKRAINE_WAR" | "POLITICS" | "ECONOMY" | ...,
  "entities": {
    "people": ["–ò–º—è –§–∞–º–∏–ª–∏—è"],
    "organizations": ["–ù–∞–∑–≤–∞–Ω–∏–µ"]
  },
  "summary": "2-3 –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è –Ω–∞ —Ä—É—Å—Å–∫–æ–º",
  "ukraineRelevant": true/false
}

–ö–∞—Ç–µ–≥–æ—Ä–∏–∏:
- GEOPOLITICS (–≥–µ–æ–ø–æ–ª–∏—Ç–∏–∫–∞)
- POLITICS (–ø–æ–ª–∏—Ç–∏–∫–∞)
- GOVERNMENT (–≥–æ—Å—É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ)
- ECONOMY (—ç–∫–æ–Ω–æ–º–∏–∫–∞)
- EMIGRATION (—ç–º–º–∏–≥—Ä–∞—Ü–∏—è)
- UKRAINE_WAR (–≤–æ–π–Ω–∞)
- SECURITY (–±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å)
- LAW (–ø—Ä–∞–≤–æ)

–°—Ç–∞—Ç—å—è –ø—Ä–æ –£–∫—Ä–∞–∏–Ω—É (ukraineRelevant=true), –µ—Å–ª–∏ —É–ø–æ–º–∏–Ω–∞—é—Ç—Å—è:
–£–∫—Ä–∞–∏–Ω–∞, —É–∫—Ä–∞–∏–Ω—Å–∫–∏–π, –í–°–£, –ó–µ–ª–µ–Ω—Å–∫–∏–π, –ö–∏–µ–≤, –∏ —Ç.–¥.
`

  // Groq API (MVP)
  const response = await fetch('https://api.groq.com/openai/v1/chat/completions', {
    method: 'POST',
    headers: {
      'Authorization': `Bearer ${GROQ_API_KEY}`,
      'Content-Type': 'application/json'
    },
    body: JSON.stringify({
      model: 'llama-3.3-70b-versatile',
      messages: [
        { role: 'system', content: '–¢—ã - —ç–∫—Å–ø–µ—Ä—Ç –ø–æ –∞–Ω–∞–ª–∏–∑—É –Ω–æ–≤–æ—Å—Ç–µ–π.' },
        { role: 'user', content: prompt }
      ],
      temperature: 0.1,
      response_format: { type: 'json_object' }
    })
  })
  
  const data = await response.json()
  const analysis = JSON.parse(data.choices[0].message.content)
  
  return analysis
}
C. generateClusterSummary(articles: Article[]): Promise<string>
typescriptasync generateClusterSummary(articles: Article[]) {
  const summaries = articles.map(a => `[${a.source.name}] ${a.summary}`).join('\n')
  
  const prompt = `
–°–æ–∑–¥–∞–π –µ–¥–∏–Ω–æ–µ –∫—Ä–∞—Ç–∫–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ (2-3 –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è) –Ω–æ–≤–æ—Å—Ç–∏ –Ω–∞ –æ—Å–Ω–æ–≤–µ —ç—Ç–∏—Ö –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤:

${summaries}

–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è:
- –ù–µ–π—Ç—Ä–∞–ª—å–Ω—ã–π —Ç–æ–Ω
- –£–ø–æ–º—è–Ω–∏ –∫–ª—é—á–µ–≤—ã–µ —Ñ–∞–∫—Ç—ã
- –ù–µ –ø–æ–≤—Ç–æ—Ä—è–π –Ω–∞–∑–≤–∞–Ω–∏—è –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤
`

  const response = await fetch('https://api.groq.com/openai/v1/chat/completions', {
    method: 'POST',
    headers: {
      'Authorization': `Bearer ${GROQ_API_KEY}`,
      'Content-Type': 'application/json'
    },
    body: JSON.stringify({
      model: 'llama-3.3-70b-versatile',
      messages: [{ role: 'user', content: prompt }],
      temperature: 0.3
    })
  })
  
  const data = await response.json()
  return data.choices[0].message.content
}

6.2 ImportService - –ò–º–ø–æ—Ä—Ç
–†–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ: src/services/import/
A. RSSImporter
typescript// src/services/import/RSSImporter.ts

import RSSParser from 'rss-parser'

export class RSSImporter {
  private parser = new RSSParser()
  
  async importFromSource(source: Source) {
    try {
      // 1. –ü–∞—Ä—Å–∏–Ω–≥ RSS —Ñ–∏–¥–∞
      const feed = await this.parser.parseURL(source.url)
      
      // 2. –î–ª—è –∫–∞–∂–¥–æ–π —Å—Ç–∞—Ç—å–∏
      for (const item of feed.items) {
        // –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥—É–±–ª–∏–∫–∞—Ç–∞ –ø–æ URL
        const exists = await prisma.article.findUnique({
          where: { url: item.link }
        })
        
        if (exists) continue // –ü—Ä–æ–ø—É—Å–∫–∞–µ–º
        
        // 3. UkraineFilter
        const analysis = await aiService.analyzeArticle(item.title, item.content)
        
        if (!analysis.ukraineRelevant) {
          console.log(`[UkraineFilter] –û—Ç–±—Ä–æ—à–µ–Ω–∞ —Å—Ç–∞—Ç—å—è: ${item.title}`)
          continue
        }
        
        // 4. –°–æ–∑–¥–∞—Ç—å embedding
        const embedding = await aiService.createEmbedding(
          `${item.title} ${item.content}`
        )
        
        // 5. –î–µ–¥—É–ø–ª–∏–∫–∞—Ü–∏—è
        const duplicates = await deduplicationService.findDuplicates(embedding)
        
        let result
        if (duplicates.length >= 1) {
          // –î–æ–±–∞–≤–∏—Ç—å –≤ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π –∫–ª–∞—Å—Ç–µ—Ä
          result = await deduplicationService.addToCluster(
            duplicates[0].clusterId,
            { ...item, analysis }
          )
        } else {
          // –°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—É—é —Å—Ç–∞—Ç—å—é
          result = await prisma.article.create({
            data: {
              sourceId: source.id,
              title: item.title,
              content: item.content,
              url: item.link,
              summary: analysis.summary,
              category: analysis.category,
              entities: analysis.entities,
              publishedAt: new Date(item.pubDate)
            }
          })
          
          // –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –≤ Qdrant
          await qdrant.upsert('articles', {
            points: [{
              id: result.id,
              vector: embedding,
              payload: {
                articleId: result.id,
                title: result.title,
                category: result.category,
                sourceId: result.sourceId,
                publishedAt: Math.floor(result.publishedAt.getTime() / 1000)
              }
            }]
          })
        }
        
        // 6. –û—Ç–ø—Ä–∞–≤–∏—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è —á–µ—Ä–µ–∑ Telegram –±–æ—Ç
        await telegramBotService.checkSubscriptions(result)
      }
      
      console.log(`[RSS Import] ${source.name}: –∏–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–æ ${feed.items.length} —Å—Ç–∞—Ç–µ–π`)
      
    } catch (error) {
      console.error(`[RSS Import Error] ${source.name}:`, error)
      throw error
    }
  }
}
B. TelegramImporter
typescript// src/services/import/TelegramImporter.ts

import { Api, TelegramClient } from 'telegram'
import { StringSession } from 'telegram/sessions'

export class TelegramImporter {
  private client: TelegramClient
  
  async importMetrics(source: Source) {
    // 1. –ü–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –∫ Telegram
    await this.client.connect()
    
    // 2. –ü–æ–ª—É—á–∏—Ç—å –∫–∞–Ω–∞–ª
    const channel = await this.client.getEntity(source.telegramId)
    
    // 3. –ü–æ–ª—É—á–∏—Ç—å –ø–æ—Å–ª–µ–¥–Ω–∏–µ 100 –ø–æ—Å—Ç–æ–≤
    const messages = await this.client.getMessages(channel, { limit: 100 })
    
    for (const message of messages) {
      // –ù–∞–π—Ç–∏ —Å—Ç–∞—Ç—å—é –ø–æ —Å—Å—ã–ª–∫–µ –∏–ª–∏ –ø–æ –ø–æ—Ö–æ–∂–µ—Å—Ç–∏ —Ç–µ–∫—Å—Ç–∞
      const article = await this.findArticleByMessage(message)
      
      if (!article) continue
      
      // 4. –ò–∑–≤–ª–µ—á—å –º–µ—Ç—Ä–∏–∫–∏
      const metrics = {
        views: message.views || 0,
        forwards: message.forwards || 0,
        reactions: this.countReactions(message.reactions),
        replies: message.replies?.replies || 0
      }
      
      // 5. –û–±–Ω–æ–≤–∏—Ç—å –≤ –ë–î
      await prisma.article.update({
        where: { id: article.id },
        data: { telegramMetrics: metrics }
      })
    }
    
    console.log(`[Telegram Import] ${source.name}: –æ–±–Ω–æ–≤–ª–µ–Ω–æ ${messages.length} —Å—Ç–∞—Ç–µ–π`)
  }
  
  private countReactions(reactions?: Api.MessageReactions) {
    if (!reactions) return 0
    
    return reactions.results.reduce((sum, r) => sum + r.count, 0)
  }
  
  private async findArticleByMessage(message: Api.Message) {
    // –ü–æ–ø—ã—Ç–∫–∞ 1: –Ω–∞–π—Ç–∏ –ø–æ URL –≤ —Ç–µ–∫—Å—Ç–µ
    const urls = this.extractUrls(message.text)
    for (const url of urls) {
      const article = await prisma.article.findUnique({ where: { url } })
      if (article) return article
    }
    
    // –ü–æ–ø—ã—Ç–∫–∞ 2: —Å–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–∏–π –ø–æ–∏—Å–∫ –ø–æ —Ç–µ–∫—Å—Ç—É
    const embedding = await aiService.createEmbedding(message.text)
    const similar = await qdrant.search('articles', {
      vector: embedding,
      limit: 1,
      score_threshold: 0.95
    })
    
    if (similar.length > 0) {
      return prisma.article.findUnique({
        where: { id: similar[0].payload.articleId }
      })
    }
    
    return null
  }
}

6.3 DeduplicationService - –î–µ–¥—É–ø–ª–∏–∫–∞—Ü–∏—è
–†–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ: src/services/deduplication/DeduplicationService.ts
typescriptexport class DeduplicationService {
  
  /**
   * –ù–∞–π—Ç–∏ –¥—É–±–ª–∏–∫–∞—Ç—ã —á–µ—Ä–µ–∑ Qdrant
   */
  async findDuplicates(embedding: number[], publishedAt: Date) {
    const twoDaysAgo = Date.now() - (48 * 60 * 60 * 1000)
    
    const results = await qdrant.search('articles', {
      vector: embedding,
      limit: 10,
      score_threshold: 0.85,
      filter: {
        must: [
          {
            key: 'publishedAt',
            range: {
              gte: Math.floor(twoDaysAgo / 1000)
            }
          }
        ]
      }
    })
    
    // –í–µ—Ä–Ω—É—Ç—å —Å—Ç–∞—Ç—å–∏ —Å similarity > 0.85
    return results.map(r => ({
      articleId: r.payload.articleId,
      similarity: r.score,
      clusterId: null  // –±—É–¥–µ—Ç –∑–∞–ø–æ–ª–Ω–µ–Ω–æ –∏–∑ –ë–î
    }))
  }
  
  /**
   * –°–æ–∑–¥–∞—Ç—å –∫–ª–∞—Å—Ç–µ—Ä –∏–∑ 2+ —Å—Ç–∞—Ç–µ–π
   */
  async createCluster(articles: Article[]) {
    // 1. –°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –æ–±—â–∏–π summary
    const summary = await aiService.generateClusterSummary(articles)
    
    // 2. –í—ã–±—Ä–∞—Ç—å "–≥–ª–∞–≤–Ω—É—é" —Å—Ç–∞—Ç—å—é (—Å –º–∞–∫—Å. —Ä–µ–π—Ç–∏–Ω–≥–æ–º)
    const primaryArticle = articles.reduce((max, a) => 
      a.ratingScore > max.ratingScore ? a : max
    , articles[0])
    
    // 3. –°–æ–∑–¥–∞—Ç—å –∫–ª–∞—Å—Ç–µ—Ä
    const cluster = await prisma.cluster.create({
      data: {
        title: primaryArticle.title,
        summary: summary,
        category: primaryArticle.category,
        ratingScore: 0  // –±—É–¥–µ—Ç –ø–µ—Ä–µ—Å—á–∏—Ç–∞–Ω
      }
    })
    
    // 4. –°–≤—è–∑–∞—Ç—å —Å—Ç–∞—Ç—å–∏
    for (const article of articles) {
      await prisma.clusterArticle.create({
        data: {
          clusterId: cluster.id,
          articleId: article.id,
          isPrimary: article.id === primaryArticle.id
        }
      })
    }
    
    console.log(`[Deduplication] –°–æ–∑–¥–∞–Ω –∫–ª–∞—Å—Ç–µ—Ä ${cluster.id} –∏–∑ ${articles.length} —Å—Ç–∞—Ç–µ–π`)
    
    return cluster
  }
  
  /**
   * –î–æ–±–∞–≤–∏—Ç—å —Å—Ç–∞—Ç—å—é –≤ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π –∫–ª–∞—Å—Ç–µ—Ä
   */
  async addToCluster(clusterId: string, article: ArticleData) {
    // 1. –°–æ–∑–¥–∞—Ç—å —Å—Ç–∞—Ç—å—é
    const newArticle = await prisma.article.create({
      data: {
        ...article,
        sourceId: article.sourceId,
        publishedAt: article.publishedAt
      }
    })
    
    // 2. –°–≤—è–∑–∞—Ç—å —Å –∫–ª–∞—Å—Ç–µ—Ä–æ–º
    await prisma.clusterArticle.create({
      data: {
        clusterId: clusterId,
        articleId: newArticle.id
      }
    })
    
    // 3. –†–µ–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å summary –∫–ª–∞—Å—Ç–µ—Ä–∞
    const cluster = await prisma.cluster.findUnique({
      where: { id: clusterId },
      include: {
        articles: {
          include: { article: true }
        }
      }
    })
    
    const allArticles = cluster.articles.map(ca => ca.article)
    const newSummary = await aiService.generateClusterSummary(allArticles)
    
    await prisma.cluster.update({
      where: { id: clusterId },
      data: { summary: newSummary }
    })
    
    return newArticle
  }
}

6.4 RankingService - –†–µ–π—Ç–∏–Ω–≥
–†–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ: src/services/ranking/RankingService.ts
typescriptexport class RankingService {
  
  /**
   * –ü–µ—Ä–µ—Å—á–∏—Ç–∞—Ç—å —Ä–µ–π—Ç–∏–Ω–≥–∏ –≤—Å–µ—Ö —Å—Ç–∞—Ç–µ–π –∑–∞ –ø–æ—Å–ª–µ–¥–Ω–∏–µ 7 –¥–Ω–µ–π
   */
  async calculateRankings() {
    const sevenDaysAgo = new Date(Date.now() - 7 * 24 * 60 * 60 * 1000)
    
    // 1. –ü–æ–ª—É—á–∏—Ç—å –≤—Å–µ —Å—Ç–∞—Ç—å–∏
    const articles = await prisma.article.findMany({
      where: {
        publishedAt: { gte: sevenDaysAgo }
      }
    })
    
    console.log(`[Ranking] –ü–µ—Ä–µ—Å—á–µ—Ç —Ä–µ–π—Ç–∏–Ω–≥–∞ –¥–ª—è ${articles.length} —Å—Ç–∞—Ç–µ–π`)
    
    for (const article of articles) {
      const score = this.calculateScore(article)
      
      await prisma.article.update({
        where: { id: article.id },
        data: {
          ratingScore: score,
          rankUpdatedAt: new Date()
        }
      })
    }
    
    // 2. –ü–æ–ª—É—á–∏—Ç—å –≤—Å–µ –∫–ª–∞—Å—Ç–µ—Ä—ã
    const clusters = await prisma.cluster.findMany({
      include: {
        articles: {
          include: { article: true }
        }
      }
    })
    
    for (const cluster of clusters) {
      const score = this.calculateClusterScore(cluster)
      
      await prisma.cluster.update({
        where: { id: cluster.id },
        data: {
          ratingScore: score,
          rankUpdatedAt: new Date()
        }
      })
    }
    
    // 3. –ü—Ä–∏—Å–≤–æ–∏—Ç—å rankPosition
    await this.assignRankPositions()
    
    // 4. –î–µ—Ç–µ–∫—Ç–æ—Ä —Ç—Ä–µ–Ω–¥–æ–≤
    await this.detectTrending()
    
    // 5. –ò–Ω–≤–∞–ª–∏–¥–∏—Ä–æ–≤–∞—Ç—å –∫—ç—à
    await redis.del('ranking-board:*')
    
    console.log('[Ranking] –†–µ–π—Ç–∏–Ω–≥ –æ–±–Ω–æ–≤–ª–µ–Ω')
  }
  
  /**
   * –§–æ—Ä–º—É–ª–∞ —Ä–µ–π—Ç–∏–Ω–≥–∞ –¥–ª—è —Å—Ç–∞—Ç—å–∏
   */
  private calculateScore(article: Article): number {
    const metrics = article.telegramMetrics as any || {}
    const views = metrics.views || 0
    const forwards = metrics.forwards || 0
    const reactions = metrics.reactions || 0
    const replies = metrics.replies || 0
    
    // –í–æ–∑—Ä–∞—Å—Ç –≤ —á–∞—Å–∞—Ö
    const ageHours = (Date.now() - article.publishedAt.getTime()) / (1000 * 60 * 60)
    
    // –§–æ—Ä–º—É–ª–∞ Mediametrics
    const score = (
      views * 0.05 +
      forwards * 8 +
      reactions * 3 +
      replies * 5
    ) - (ageHours * 2)
    
    return Math.max(0, score)  // –ú–∏–Ω–∏–º—É–º 0
  }
  
  /**
   * –†–µ–π—Ç–∏–Ω–≥ –∫–ª–∞—Å—Ç–µ—Ä–∞ (—Å—É–º–º–∞ —Å—Ç–∞—Ç–µ–π)
   */
  private calculateClusterScore(cluster: Cluster): number {
    return cluster.articles.reduce((sum, ca) => {
      return sum + this.calculateScore(ca.article)
    }, 0)
  }
  
  /**
   * –ü—Ä–∏—Å–≤–æ–∏—Ç—å rankPosition
   */
  private async assignRankPositions() {
    // –û–±—ä–µ–¥–∏–Ω–∏—Ç—å —Å—Ç–∞—Ç—å–∏ –∏ –∫–ª–∞—Å—Ç–µ—Ä—ã
    const articles = await prisma.article.findMany({
      where: { clusterArticles: { none: {} } },  // —Ç–æ–ª—å–∫–æ —Å—Ç–∞—Ç—å–∏ –±–µ–∑ –∫–ª–∞—Å—Ç–µ—Ä–∞
      orderBy: { ratingScore: 'desc' }
    })
    
    const clusters = await prisma.cluster.findMany({
      orderBy: { ratingScore: 'desc' }
    })
    
    // –û–±—ä–µ–¥–∏–Ω–∏—Ç—å –∏ –æ—Ç—Å–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å
    const items = [
      ...articles.map(a => ({ type: 'article', id: a.id, score: a.ratingScore })),
      ...clusters.map(c => ({ type: 'cluster', id: c.id, score: c.ratingScore }))
    ].sort((a, b) => b.score - a.score)
    
    // –ü—Ä–∏—Å–≤–æ–∏—Ç—å –ø–æ–∑–∏—Ü–∏–∏
    for (let i = 0; i < items.length; i++) {
      const item = items[i]
      
      if (item.type === 'article') {
        await prisma.article.update({
          where: { id: item.id },
          data: { rankPosition: i + 1 }
        })
      } else {
        await prisma.cluster.update({
          where: { id: item.id },
          data: { rankPosition: i + 1 }
        })
      }
    }
  }
  
  /**
   * –î–µ—Ç–µ–∫—Ç–æ—Ä —Ç—Ä–µ–Ω–¥–æ–≤
   */
  private async detectTrending() {
    // –ü–æ–ª—É—á–∏—Ç—å –ø—Ä–µ–¥—ã–¥—É—â–∏–π —Å–Ω–∞–ø—à–æ—Ç
    const previousSnapshot = await redis.get('ranking-snapshot')
    const previous = previousSnapshot ? JSON.parse(previousSnapshot) : {}
    
    // –°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–π —Å–Ω–∞–ø—à–æ—Ç
    const current = {}
    
    const articles = await prisma.article.findMany()
    
    for (const article of articles) {
      current[article.id] = article.ratingScore
      
      const prevScore = previous[article.id] || 0
      const growth = article.ratingScore - prevScore
      
      // –í–æ–∑—Ä–∞—Å—Ç –≤ —á–∞—Å–∞—Ö
      const ageHours = (Date.now() - article.publishedAt.getTime()) / (1000 * 60 * 60)
      
      let trendingLevel = null
      
      if (growth > 50) {
        trendingLevel = 'hot'  // üî•
      } else if (growth > 20) {
        trendingLevel = 'rising'  // ‚ö°
      } else if (ageHours < 1) {
        trendingLevel = 'new'  // üÜï
      }
      
      if (trendingLevel) {
        await prisma.article.update({
          where: { id: article.id },
          data: {
            isTrending: true,
            trendingLevel: trendingLevel
          }
        })
      }
    }
    
    // –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –Ω–æ–≤—ã–π —Å–Ω–∞–ø—à–æ—Ç
    await redis.set('ranking-snapshot', JSON.stringify(current), 'EX', 900)  // 15 –º–∏–Ω
  }
}

6.5 SearchService - –ü–æ–∏—Å–∫
–†–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ: src/services/search/SearchService.ts
typescriptexport class SearchService {
  
  /**
   * –°–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–∏–π –ø–æ–∏—Å–∫
   */
  async semanticSearch(query: string, filters: SearchFilters) {
    // 1. –°–æ–∑–¥–∞—Ç—å embedding –¥–ª—è –∑–∞–ø—Ä–æ—Å–∞
    const embedding = await aiService.createEmbedding(query)
    
    // 2. –ü–æ—Å—Ç—Ä–æ–∏—Ç—å Qdrant —Ñ–∏–ª—å—Ç—Ä—ã
    const qdrantFilter = {
      must: []
    }
    
    if (filters.categories?.length > 0) {
      qdrantFilter.must.push({
        key: 'category',
        match: { any: filters.categories }
      })
    }
    
    if (filters.sources?.length > 0) {
      qdrantFilter.must.push({
        key: 'sourceId',
        match: { any: filters.sources }
      })
    }
    
    if (filters.dateFrom) {
      qdrantFilter.must.push({
        key: 'publishedAt',
        range: {
          gte: Math.floor(new Date(filters.dateFrom).getTime() / 1000)
        }
      })
    }
    
    // 3. –ü–æ–∏—Å–∫ –≤ Qdrant
    const results = await qdrant.search('articles', {
      vector: embedding,
      limit: 50,
      filter: qdrantFilter
    })
    
    // 4. –ü–æ–ª—É—á–∏—Ç—å –ø–æ–ª–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –∏–∑ PostgreSQL
    const articleIds = results.map(r => r.payload.articleId)
    
    const articles = await prisma.article.findMany({
      where: { id: { in: articleIds } },
      include: {
        source: true,
        clusterArticles: {
          include: { cluster: true }
        }
      }
    })
    
    return articles
  }
  
  /**
   * –ù–∞–π—Ç–∏ –ø–æ—Ö–æ–∂–∏–µ —Å—Ç–∞—Ç—å–∏
   */
  async findSimilar(articleId: string, limit: number = 10) {
    // 1. –ü–æ–ª—É—á–∏—Ç—å embedding —Å—Ç–∞—Ç—å–∏
    const point = await qdrant.retrieve('articles', {
      ids: [articleId],
      with_vector: true
    })
    
    if (point.length === 0) return []
    
    const embedding = point[0].vector
    
    // 2. –ü–æ–∏—Å–∫ –ø–æ—Ö–æ–∂–∏—Ö
    const results = await qdrant.search('articles', {
      vector: embedding,
      limit: limit + 1,  // +1 —á—Ç–æ–±—ã –∏—Å–∫–ª—é—á–∏—Ç—å —Å–∞–º—É —Å—Ç–∞—Ç—å—é
      score_threshold: 0.7
    })
    
    // 3. –ò—Å–∫–ª—é—á–∏—Ç—å —Å–∞–º—É —Å—Ç–∞—Ç—å—é –∏ —Å—Ç–∞—Ç—å–∏ –∏–∑ —Ç–æ–≥–æ –∂–µ –∫–ª–∞—Å—Ç–µ—Ä–∞
    const article = await prisma.article.findUnique({
      where: { id: articleId },
      include: { clusterArticles: true }
    })
    
    const clusterId = article.clusterArticles[0]?.clusterId
    const excludeIds = [articleId]
    
    if (clusterId) {
      const clusterArticles = await prisma.clusterArticle.findMany({
        where: { clusterId }
      })
      excludeIds.push(...clusterArticles.map(ca => ca.articleId))
    }
    
    const filtered = results.filter(r => !excludeIds.includes(r.payload.articleId))
    
    // 4. –ü–æ–ª—É—á–∏—Ç—å –ø–æ–ª–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
    const articleIds = filtered.slice(0, limit).map(r => r.payload.articleId)
    
    return prisma.article.findMany({
      where: { id: { in: articleIds } },
      include: { source: true }
    })
  }
  
  /**
   * –ì–û–†–ï–ù–ò–ï - —Ö—Ä–æ–Ω–æ–ª–æ–≥–∏—è —Ä–∞–∑–≤–∏—Ç–∏—è —Ç–µ–º—ã
   */
  async findTimeline(articleId: string) {
    // 1. –ü–æ–ª—É—á–∏—Ç—å —Å—Ç–∞—Ç—å—é
    const article = await prisma.article.findUnique({
      where: { id: articleId }
    })
    
    // 2. –ò–∑–≤–ª–µ—á—å entities
    const entities = article.entities as any || {}
    const allEntities = [
      ...(entities.people || []),
      ...(entities.organizations || [])
    ]
    
    if (allEntities.length === 0) return []
    
    // 3. –ù–∞–π—Ç–∏ —Å—Ç–∞—Ç—å–∏ —Å —Ç–µ–º–∏ –∂–µ entities
    const timeline = await prisma.$queryRaw`
      SELECT * FROM articles
      WHERE entities @> ANY(ARRAY[${allEntities.map(e => JSON.stringify({ people: [e] }))}]::jsonb[])
         OR entities @> ANY(ARRAY[${allEntities.map(e => JSON.stringify({ organizations: [e] }))}]::jsonb[])
      ORDER BY published_at ASC
      LIMIT 20
    `
    
    return timeline
  }
}

6.6 TelegramBotService - –ë–æ—Ç
–†–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ: src/services/telegram/TelegramBotService.ts
typescriptimport { Bot } from 'grammy'

export class TelegramBotService {
  private bot: Bot
  
  constructor() {
    this.bot = new Bot(process.env.TELEGRAM_BOT_TOKEN)
    this.setupCommands()
  }
  
  private setupCommands() {
    // /start
    this.bot.command('start', async (ctx) => {
      await ctx.reply(
        '–ü—Ä–∏–≤–µ—Ç! –Ø MediaSyndicate –±–æ—Ç.\n\n' +
        '–ò—Å–ø–æ–ª—å–∑—É–π /feeds —á—Ç–æ–±—ã —É–≤–∏–¥–µ—Ç—å –¥–æ—Å—Ç—É–ø–Ω—ã–µ –ª–µ–Ω—Ç—ã.\n' +
        '–ò—Å–ø–æ–ª—å–∑—É–π /subscribe [id] —á—Ç–æ–±—ã –ø–æ–¥–ø–∏—Å–∞—Ç—å—Å—è –Ω–∞ –ª–µ–Ω—Ç—É.'
      )
    })
    
    // /feeds
    this.bot.command('feeds', async (ctx) => {
      const userId = await this.getUserByTelegramId(ctx.from.id)
      if (!userId) {
        return ctx.reply('–°–Ω–∞—á–∞–ª–∞ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Å—è –Ω–∞ —Å–∞–π—Ç–µ: https://mediasyndicate.online')
      }
      
      const feeds = await prisma.feedSetting.findMany({
        where: { userId }
      })
      
      if (feeds.length === 0) {
        return ctx.reply('–£ —Ç–µ–±—è –ø–æ–∫–∞ –Ω–µ—Ç —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω—ã—Ö –ª–µ–Ω—Ç. –°–æ–∑–¥–∞–π –∏—Ö –Ω–∞ —Å–∞–π—Ç–µ!')
      }
      
      const message = feeds.map(f => 
        `ID: ${f.id}\n–ù–∞–∑–≤–∞–Ω–∏–µ: ${f.name}`
      ).join('\n\n')
      
      await ctx.reply(`–¢–≤–æ–∏ –ª–µ–Ω—Ç—ã:\n\n${message}`)
    })
    
    // /subscribe [feedId]
    this.bot.command('subscribe', async (ctx) => {
      const feedId = ctx.match  // ID –ª–µ–Ω—Ç—ã
      
      if (!feedId) {
        return ctx.reply('–ò—Å–ø–æ–ª—å–∑—É–π: /subscribe [ID –ª–µ–Ω—Ç—ã]')
      }
      
      const userId = await this.getUserByTelegramId(ctx.from.id)
      if (!userId) {
        return ctx.reply('–°–Ω–∞—á–∞–ª–∞ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Å—è –Ω–∞ —Å–∞–π—Ç–µ')
      }
      
      // –°–æ–∑–¥–∞—Ç—å –ø–æ–¥–ø–∏—Å–∫—É
      await prisma.telegramSubscription.create({
        data: {
          userId,
          telegramChatId: ctx.from.id,
          feedSettingId: feedId,
          isActive: true
        }
      })
      
      await ctx.reply('‚úÖ –ü–æ–¥–ø–∏—Å–∫–∞ –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω–∞! –¢–µ–ø–µ—Ä—å —Ç—ã –±—É–¥–µ—à—å –ø–æ–ª—É—á–∞—Ç—å –Ω–æ–≤–æ—Å—Ç–∏ –ø–æ —ç—Ç–æ–π –ª–µ–Ω—Ç–µ.')
    })
    
    this.bot.start()
  }
  
  /**
   * –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–æ–¥–ø–∏—Å–∫–∏ –∏ –æ—Ç–ø—Ä–∞–≤–∏—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
   */
  async checkSubscriptions(article: Article) {
    // –ü–æ–ª—É—á–∏—Ç—å –≤—Å–µ –∞–∫—Ç–∏–≤–Ω—ã–µ –ø–æ–¥–ø–∏—Å–∫–∏
    const subscriptions = await prisma.telegramSubscription.findMany({
      where: { isActive: true },
      include: {
        user: {
          include: { feedSettings: true }
        }
      }
    })
    
    for (const sub of subscriptions) {
      // –ü–æ–ª—É—á–∏—Ç—å —Ñ–∏–ª—å—Ç—Ä—ã –ª–µ–Ω—Ç—ã
      const feed = sub.user.feedSettings.find(f => f.id === sub.feedSettingId)
      if (!feed) continue
      
      // –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ —Ñ–∏–ª—å—Ç—Ä–∞–º
      if (this.matchesFilters(article, feed.filters)) {
        await this.sendArticle(sub.telegramChatId, article)
      }
    }
  }
  
  private matchesFilters(article: Article, filters: any): boolean {
    // –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
    if (filters.categories?.length > 0) {
      if (!filters.categories.includes(article.category)) return false
    }
    
    // –ü—Ä–æ–≤–µ—Ä–∫–∞ –∏—Å—Ç–æ—á–Ω–∏–∫–∞
    if (filters.sources?.length > 0) {
      if (!filters.sources.includes(article.sourceId)) return false
    }
    
    // –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–∏—Å–∫–∞
    if (filters.search) {
      const text = `${article.title} ${article.content}`.toLowerCase()
      if (!text.includes(filters.search.toLowerCase())) return false
    }
    
    return true
  }
  
  /**
   * –û—Ç–ø—Ä–∞–≤–∏—Ç—å —Å—Ç–∞—Ç—å—é –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é
   */
  private async sendArticle(chatId: number, article: Article) {
    const message = `
üî• #${article.rankPosition || '?'} –≤ —Ä–µ–π—Ç–∏–Ω–≥–µ

${article.title}

${article.summary}

üìä ${article.telegramMetrics?.views || 0} –ø—Ä–æ—Å–º–æ—Ç—Ä–æ–≤ | ${article.telegramMetrics?.forwards || 0} —Ä–µ–ø–æ—Å—Ç–æ–≤

üëâ –ß–∏—Ç–∞—Ç—å –ø–æ–¥—Ä–æ–±–Ω–µ–µ: https://mediasyndicate.online/news/${article.id}
`
    
    await this.bot.api.sendMessage(chatId, message)
  }
  
  /**
   * –î–∞–π–¥–∂–µ—Å—Ç –≤ –∫–∞–Ω–∞–ª –ø—Ä–æ–µ–∫—Ç–∞
   */
  async sendDigest() {
    const top10 = await prisma.article.findMany({
      orderBy: { ratingScore: 'desc' },
      take: 10,
      include: { source: true }
    })
    
    let message = 'üìä –¢–û–ü-10 –ù–û–í–û–°–¢–ï–ô –°–ï–ì–û–î–ù–Ø\n\n'
    
    top10.forEach((article, i) => {
      message += `${i + 1}. ${article.title}\n`
      message += `   ${article.source.name}\n\n`
    })
    
    message += 'üëâ –ü–æ–ª–Ω—ã–π —Ä–µ–π—Ç–∏–Ω–≥: https://mediasyndicate.online'
    
    await this.bot.api.sendMessage(
      process.env.TELEGRAM_CHANNEL_ID,
      message
    )
  }
  
  private async getUserByTelegramId(telegramId: number): Promise<string | null> {
    const sub = await prisma.telegramSubscription.findFirst({
      where: { telegramChatId: telegramId }
    })
    
    return sub?.userId || null
  }
}

7. Roadmap —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
7.1 Phase 1: MVP (4 –Ω–µ–¥–µ–ª–∏)
–¶–µ–ª—å: –ú–∏–Ω–∏–º–∞–ª—å–Ω–æ —Ä–∞–±–æ—Ç–∞—é—â–∏–π –ø—Ä–æ–¥—É–∫—Ç –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∫–æ–Ω—Ü–µ–ø—Ü–∏–∏
–ù–µ–¥–µ–ª—è 1: –ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞ + –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
–ó–∞–¥–∞—á–∏:

‚úÖ –†–∞–∑–≤–µ—Ä–Ω—É—Ç—å PostgreSQL, Qdrant, Redis –Ω–∞ VPS
‚úÖ –°–æ–∑–¥–∞—Ç—å Prisma schema (–≤—Å–µ —Ç–∞–±–ª–∏—Ü—ã)
‚úÖ –ó–∞–ø—É—Å—Ç–∏—Ç—å –º–∏–≥—Ä–∞—Ü–∏–∏
‚úÖ –ù–∞—Å—Ç—Ä–æ–∏—Ç—å Docker Compose
‚úÖ –ë–∞–∑–æ–≤—ã–π Next.js –ø—Ä–æ–µ–∫—Ç

–ö–æ–º–∞–Ω–¥—ã:
bash# –°–æ–∑–¥–∞—Ç—å –ø—Ä–æ–µ–∫—Ç
npx create-next-app@latest mediasyndicate --typescript --tailwind --app

# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
npm install @prisma/client prisma ioredis bullmq qdrant-client

# –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å Prisma
npx prisma init

# –ó–∞–ø—É—Å—Ç–∏—Ç—å –º–∏–≥—Ä–∞—Ü–∏–∏
npx prisma migrate dev --name init

# –ó–∞–ø—É—Å—Ç–∏—Ç—å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã
docker-compose up -d
```

**–ö—Ä–∏—Ç–µ—Ä–∏–π —É—Å–ø–µ—Ö–∞:**
- –í—Å–µ —Å–µ—Ä–≤–∏—Å—ã –∑–∞–ø—É—â–µ–Ω—ã
- –ë–î –≥–æ—Ç–æ–≤–∞ –∫ —Ä–∞–±–æ—Ç–µ
- –ü—É—Å—Ç–∞—è –≥–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è

---

#### **–ù–µ–¥–µ–ª—è 2: AI –∞–Ω–∞–ª–∏–∑ + –ò–º–ø–æ—Ä—Ç RSS**

**–ó–∞–¥–∞—á–∏:**
- ‚úÖ AIService (HuggingFace + Groq)
  - createEmbedding()
  - analyzeArticle()
  - generateClusterSummary()
  - UkraineFilter

- ‚úÖ RSSImporter
  - –ü–∞—Ä—Å–∏–Ω–≥ RSS —Ñ–∏–¥–æ–≤
  - –ò–º–ø–æ—Ä—Ç –Ω–æ–≤—ã—Ö —Å—Ç–∞—Ç–µ–π
  - –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ PostgreSQL + Qdrant

- ‚úÖ Background worker (BullMQ)
  - –ó–∞–¥–∞—á–∞ –∏–º–ø–æ—Ä—Ç–∞ –∫–∞–∂–¥—ã–µ 15 –º–∏–Ω—É—Ç

**–§–∞–π–ª—ã:**
```
src/
‚îú‚îÄ services/
‚îÇ  ‚îú‚îÄ ai/
‚îÇ  ‚îÇ  ‚îú‚îÄ AIService.ts
‚îÇ  ‚îÇ  ‚îú‚îÄ HuggingFaceProvider.ts
‚îÇ  ‚îÇ  ‚îî‚îÄ GroqProvider.ts
‚îÇ  ‚îî‚îÄ import/
‚îÇ     ‚îî‚îÄ RSSImporter.ts
‚îÇ
‚îú‚îÄ workers/
‚îÇ  ‚îî‚îÄ import.worker.ts
‚îÇ
‚îî‚îÄ lib/
   ‚îî‚îÄ qdrant.ts
```

**–ö—Ä–∏—Ç–µ—Ä–∏–π —É—Å–ø–µ—Ö–∞:**
- –°—Ç–∞—Ç—å–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∏–º–ø–æ—Ä—Ç–∏—Ä—É—é—Ç—Å—è
- AI –∞–Ω–∞–ª–∏–∑ —Ä–∞–±–æ—Ç–∞–µ—Ç
- Embeddings —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ Qdrant

---

#### **–ù–µ–¥–µ–ª—è 3: –î–µ–¥—É–ø–ª–∏–∫–∞—Ü–∏—è + –†–µ–π—Ç–∏–Ω–≥**

**–ó–∞–¥–∞—á–∏:**
- ‚úÖ DeduplicationService
  - findDuplicates() (similarity >0.85)
  - createCluster() (2+ —Å—Ç–∞—Ç—å–∏)
  - generateClusterSummary()

- ‚úÖ RankingService
  - calculateRankings() (—Ñ–æ—Ä–º—É–ª–∞ Mediametrics)
  - detectTrending() (üî•‚ö°üÜï)
  - –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ Redis

- ‚úÖ TelegramImporter (–±–∞–∑–æ–≤–∞—è –≤–µ—Ä—Å–∏—è)
  - –ü–æ–ª—É—á–µ–Ω–∏–µ views, forwards
  - –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–∞–∂–¥—ã–µ 15 –º–∏–Ω—É—Ç

**–§–∞–π–ª—ã:**
```
src/
‚îú‚îÄ services/
‚îÇ  ‚îú‚îÄ deduplication/
‚îÇ  ‚îÇ  ‚îî‚îÄ DeduplicationService.ts
‚îÇ  ‚îú‚îÄ ranking/
‚îÇ  ‚îÇ  ‚îî‚îÄ RankingService.ts
‚îÇ  ‚îî‚îÄ import/
‚îÇ     ‚îî‚îÄ TelegramImporter.ts
‚îÇ
‚îî‚îÄ workers/
   ‚îú‚îÄ deduplication.worker.ts
   ‚îî‚îÄ ranking.worker.ts
```

**–ö—Ä–∏—Ç–µ—Ä–∏–π —É—Å–ø–µ—Ö–∞:**
- –ö–ª–∞—Å—Ç–µ—Ä—ã —Å–æ–∑–¥–∞—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
- –†–µ–π—Ç–∏–Ω–≥ –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –∫–∞–∂–¥—ã–µ 15 –º–∏–Ω—É—Ç
- Telegram –º–µ—Ç—Ä–∏–∫–∏ –∏–º–ø–æ—Ä—Ç–∏—Ä—É—é—Ç—Å—è

---

#### **–ù–µ–¥–µ–ª—è 4: Frontend + API**

**–ó–∞–¥–∞—á–∏:**
- ‚úÖ –ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞
  - –¢–∞–±—ã: [–ß–∞—Å] [–î–µ–Ω—å] [–ù–µ–¥–µ–ª—è]
  - –†–µ–π—Ç–∏–Ω–≥-–±–æ—Ä–¥ (—Ç–æ–ø-50)
  - –ö–∞—Ä—Ç–æ—á–∫–∏ –Ω–æ–≤–æ—Å—Ç–µ–π
  - –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã: üî•‚ö°üÜï

- ‚úÖ –°—Ç—Ä–∞–Ω–∏—Ü–∞ –¥–µ—Ç–∞–ª–∏
  - Summary
  - –ò—Å—Ç–æ—á–Ω–∏–∫–∏ (–¥–ª—è –∫–ª–∞—Å—Ç–µ—Ä–∞)
  - –ü–æ—Ö–æ–∂–∏–µ —Å—Ç–∞—Ç—å–∏
  - –ì–û–†–ï–ù–ò–ï

- ‚úÖ API endpoints
  - GET /api/articles
  - GET /api/articles/[id]
  - GET /api/articles/[id]/similar
  - GET /api/articles/[id]/timeline

**–§–∞–π–ª—ã:**
```
app/
‚îú‚îÄ page.tsx                    (–≥–ª–∞–≤–Ω–∞—è)
‚îú‚îÄ news/[id]/page.tsx         (–¥–µ—Ç–∞–ª–∏ —Å—Ç–∞—Ç—å–∏)
‚îú‚îÄ cluster/[id]/page.tsx      (–¥–µ—Ç–∞–ª–∏ –∫–ª–∞—Å—Ç–µ—Ä–∞)
‚îÇ
‚îú‚îÄ api/
‚îÇ  ‚îî‚îÄ articles/
‚îÇ     ‚îú‚îÄ route.ts              (GET /api/articles)
‚îÇ     ‚îú‚îÄ [id]/route.ts
‚îÇ     ‚îú‚îÄ [id]/similar/route.ts
‚îÇ     ‚îî‚îÄ [id]/timeline/route.ts
‚îÇ
‚îî‚îÄ components/
   ‚îú‚îÄ ArticleCard.tsx
   ‚îú‚îÄ RankingBoard.tsx
   ‚îî‚îÄ TimelineView.tsx
```

**–ö—Ä–∏—Ç–µ—Ä–∏–π —É—Å–ø–µ—Ö–∞:**
- –†–∞–±–æ—Ç–∞—é—â–∏–π —Å–∞–π—Ç —Å –Ω–æ–≤–æ—Å—Ç—è–º–∏
- –†–µ–π—Ç–∏–Ω–≥ –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –Ω–∞ –≥–ª–∞–≤–Ω–æ–π
- –î–µ—Ç–∞–ª—å–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –≤—Å–µ –¥–∞–Ω–Ω—ã–µ

---

### 7.2 Phase 2: –ü–æ–∏—Å–∫ + –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º—ã–µ –ª–µ–Ω—Ç—ã (3 –Ω–µ–¥–µ–ª–∏)

**–¶–µ–ª—å:** –î–æ–±–∞–≤–∏—Ç—å –ø–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∞—Ü–∏—é –∏ –ø—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–π –ø–æ–∏—Å–∫

#### **–ù–µ–¥–µ–ª—è 5: –°–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–∏–π –ø–æ–∏—Å–∫**

**–ó–∞–¥–∞—á–∏:**
- ‚úÖ SearchService
  - semanticSearch()
  - –§–∏–ª—å—Ç—Ä—ã: –∫–∞—Ç–µ–≥–æ—Ä–∏–∏, –∏—Å—Ç–æ—á–Ω–∏–∫–∏, –¥–∞—Ç—ã

- ‚úÖ UI —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –ø–æ–∏—Å–∫–∞
  - –°—Ç—Ä–æ–∫–∞ –ø–æ–∏—Å–∫–∞
  - –§–∏–ª—å—Ç—Ä—ã
  - –†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Å relevance score

**–§–∞–π–ª—ã:**
```
app/
‚îú‚îÄ search/page.tsx
‚îÇ
‚îú‚îÄ api/
‚îÇ  ‚îî‚îÄ search/route.ts
‚îÇ
‚îî‚îÄ components/
   ‚îî‚îÄ SearchFilters.tsx
```

**–ö—Ä–∏—Ç–µ—Ä–∏–π —É—Å–ø–µ—Ö–∞:**
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –º–æ–∂–µ—Ç –∏—Å–∫–∞—Ç—å –Ω–æ–≤–æ—Å—Ç–∏ —Å–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–∏

---

#### **–ù–µ–¥–µ–ª—è 6: –ü–æ—Ö–æ–∂–∏–µ —Å—Ç–∞—Ç—å–∏ + –ì–û–†–ï–ù–ò–ï**

**–ó–∞–¥–∞—á–∏:**
- ‚úÖ SearchService —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ
  - findSimilar()
  - findTimeline()

- ‚úÖ –û–±–Ω–æ–≤–∏—Ç—å —Å—Ç—Ä–∞–Ω–∏—Ü—É –¥–µ—Ç–∞–ª–∏
  - –ë–ª–æ–∫ "–ü–æ—Ö–æ–∂–∏–µ —Å—Ç–∞—Ç—å–∏"
  - –ë–ª–æ–∫ "–ì–û–†–ï–ù–ò–ï" (—Ö—Ä–æ–Ω–æ–ª–æ–≥–∏—è)

**–ö—Ä–∏—Ç–µ—Ä–∏–π —É—Å–ø–µ—Ö–∞:**
- –ù–∞ –¥–µ—Ç–∞–ª—å–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü–µ –≤–∏–¥–Ω–æ –∫–æ–Ω—Ç–µ–∫—Å—Ç

---

#### **–ù–µ–¥–µ–ª—è 7: –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è + –°–æ—Ö—Ä–∞–Ω–µ–Ω–Ω—ã–µ –ª–µ–Ω—Ç—ã**

**–ó–∞–¥–∞—á–∏:**
- ‚úÖ NextAuth.js
  - Email/Password —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è
  - Google OAuth (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

- ‚úÖ –ü—Ä–æ—Ñ–∏–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
  - –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π: email, –∏–º—è, –ø–∞—Ä–æ–ª—å

- ‚úÖ –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Ñ–∏–ª—å—Ç—Ä–æ–≤ –≤ —Ç–∞–±—ã
  - UI: –∫–Ω–æ–ø–∫–∞ "üíæ –°–æ—Ö—Ä–∞–Ω–∏—Ç—å —Ñ–∏–ª—å—Ç—Ä—ã"
  - API: POST /api/feeds
  - –•—Ä–∞–Ω–µ–Ω–∏–µ –≤ FeedSetting

- ‚úÖ –ú–æ–∏ —Ç–∞–±—ã
  - –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –Ω–∞ –≥–ª–∞–≤–Ω–æ–π
  - CRUD –¥–ª—è —Ç–∞–±–æ–≤

**–§–∞–π–ª—ã:**
```
app/
‚îú‚îÄ api/
‚îÇ  ‚îú‚îÄ auth/[...nextauth]/route.ts
‚îÇ  ‚îî‚îÄ feeds/
‚îÇ     ‚îú‚îÄ route.ts              (GET, POST)
‚îÇ     ‚îî‚îÄ [id]/route.ts         (PATCH, DELETE)
‚îÇ
‚îî‚îÄ components/
   ‚îú‚îÄ AuthButton.tsx
   ‚îî‚îÄ FeedTabs.tsx
```

**–ö—Ä–∏—Ç–µ—Ä–∏–π —É—Å–ø–µ—Ö–∞:**
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å–æ–∑–¥–∞–µ—Ç –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–µ –ª–µ–Ω—Ç—ã

---

### 7.3 Phase 3: Telegram –±–æ—Ç (2 –Ω–µ–¥–µ–ª–∏)

**–¶–µ–ª—å:** –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Telegram

#### **–ù–µ–¥–µ–ª—è 8: Telegram –±–æ—Ç (–±–∞–∑–æ–≤—ã–π)**

**–ó–∞–¥–∞—á–∏:**
- ‚úÖ TelegramBotService (Grammy)
  - –ö–æ–º–∞–Ω–¥—ã: /start, /feeds, /subscribe, /unsubscribe
  - –ü—Ä–∏–≤—è–∑–∫–∞ –∫ –∞–∫–∫–∞—É–Ω—Ç—É MediaSyndicate

- ‚úÖ Real-time —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
  - –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–ø–∏—Å–æ–∫ –ø—Ä–∏ –∏–º–ø–æ—Ä—Ç–µ
  - –û—Ç–ø—Ä–∞–≤–∫–∞ –Ω–æ–≤–æ—Å—Ç–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º

- ‚úÖ TelegramSubscription —Ç–∞–±–ª–∏—Ü–∞

**–§–∞–π–ª—ã:**
```
src/
‚îî‚îÄ services/
   ‚îî‚îÄ telegram/
      ‚îî‚îÄ TelegramBotService.ts
```

**–ö—Ä–∏—Ç–µ—Ä–∏–π —É—Å–ø–µ—Ö–∞:**
- –ë–æ—Ç —Ä–∞–±–æ—Ç–∞–µ—Ç
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –ø–æ–ª—É—á–∞—é—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è

---

#### **–ù–µ–¥–µ–ª—è 9: –†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–µ –º–µ—Ç—Ä–∏–∫–∏**

**–ó–∞–¥–∞—á–∏:**
- ‚úÖ TelegramImporter (–ø–æ–ª–Ω–∞—è –≤–µ—Ä—Å–∏—è)
  - views, forwards, reactions, replies
  - –û–±—Ä–∞–±–æ—Ç–∫–∞ emoji —Ä–µ–∞–∫—Ü–∏–π

- ‚úÖ –î–∞–π–¥–∂–µ—Å—Ç –≤ –∫–∞–Ω–∞–ª –ø—Ä–æ–µ–∫—Ç–∞
  - 1-2 —Ä–∞–∑–∞ –≤ –¥–µ–Ω—å (08:00, 20:00)
  - –¢–æ–ø-10 –Ω–æ–≤–æ—Å—Ç–µ–π

- ‚úÖ TrendingDetector
  - üî• hot / ‚ö° rising / üÜï new

**–ö—Ä–∏—Ç–µ—Ä–∏–π —É—Å–ø–µ—Ö–∞:**
- –ü–æ–ª–Ω–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Telegram

---

### 7.4 Phase 4: UX + Admin –ø–∞–Ω–µ–ª—å (3 –Ω–µ–¥–µ–ª–∏)

**–¶–µ–ª—å:** –î–æ–≤–µ—Å—Ç–∏ –¥–æ production-ready

#### **–ù–µ–¥–µ–ª—è 10-11: UI/UX –ø–æ–ª–∏—Ä–æ–≤–∫–∞**

**–ó–∞–¥–∞—á–∏:**
- ‚úÖ –ê–¥–∞–ø—Ç–∏–≤–Ω—ã–π –¥–∏–∑–∞–π–Ω (–º–æ–±–∏–ª—å–Ω–∞—è –≤–µ—Ä—Å–∏—è)
- ‚úÖ Skeleton loaders
- ‚úÖ Infinite scroll
- ‚úÖ –¢–µ–º–Ω–∞—è —Ç–µ–º–∞
- ‚úÖ –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è —Å–∫–æ—Ä–æ—Å—Ç–∏

---

#### **–ù–µ–¥–µ–ª—è 11-12: Admin –ø–∞–Ω–µ–ª—å**

**–ó–∞–¥–∞—á–∏:**
- ‚úÖ Dashboard (—Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞)
- ‚úÖ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∏—Å—Ç–æ—á–Ω–∏–∫–∞–º–∏ (RSS + Telegram)
- ‚úÖ –õ–æ–≥–∏ –∏–º–ø–æ—Ä—Ç–∞
- ‚úÖ –ú–æ–¥–µ—Ä–∞—Ü–∏—è –∫–ª–∞—Å—Ç–µ—Ä–æ–≤

**–§–∞–π–ª—ã:**
```
app/
‚îî‚îÄ admin/
   ‚îú‚îÄ page.tsx                 (dashboard)
   ‚îú‚îÄ sources/page.tsx
   ‚îú‚îÄ clusters/page.tsx
   ‚îî‚îÄ logs/page.tsx
```

**–ö—Ä–∏—Ç–µ—Ä–∏–π —É—Å–ø–µ—Ö–∞:**
- –ü—Ä–æ–¥—É–∫—Ç –≥–æ—Ç–æ–≤ –∫ –ø—É–±–ª–∏—á–Ω–æ–º—É –∑–∞–ø—É—Å–∫—É

---

### 7.5 Phase 5: –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ñ–∏—á–∏ (Post-MVP)

**–ß—Ç–æ –º–æ–∂–µ—Ç –≤–æ–π—Ç–∏:**

1. **Ollama (self-hosted AI)**
   - –ó–∞–º–µ–Ω–∞ HuggingFace ‚Üí Ollama
   - –î–æ–æ–±—É—á–µ–Ω–∏–µ –º–æ–¥–µ–ª–µ–π
   - –≠–∫–æ–Ω–æ–º–∏—è –±—é–¥–∂–µ—Ç–∞

2. **–ü–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∞—Ü–∏—è**
   - –ò—Å—Ç–æ—Ä–∏—è —á—Ç–µ–Ω–∏—è
   - –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏
   - "–î–ª—è –≤–∞—Å" –ª–µ–Ω—Ç–∞

3. **Analytics**
   - –ò—Å—Ç–æ—Ä–∏—è —Ä–µ–π—Ç–∏–Ω–≥–æ–≤ (–≥—Ä–∞—Ñ–∏–∫–∏)
   - –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º
   - –ü–æ–ø—É–ª—è—Ä–Ω—ã–µ –∏—Å—Ç–æ—á–Ω–∏–∫–∏

4. **–°–æ—Ü–∏–∞–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏**
   - –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏
   - –†–µ–∞–∫—Ü–∏–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

---

### 7.6 –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç—ã —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

**HIGH (–∫—Ä–∏—Ç–∏—á–Ω–æ –¥–ª—è MVP):**
1. RSS –∏–º–ø–æ—Ä—Ç + AI –∞–Ω–∞–ª–∏–∑
2. –î–µ–¥—É–ø–ª–∏–∫–∞—Ü–∏—è
3. –†–µ–π—Ç–∏–Ω–≥ (—Ñ–æ—Ä–º—É–ª–∞ Mediametrics)
4. –ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ —Å –ª–µ–Ω—Ç–æ–π

**MEDIUM (–≤–∞–∂–Ω–æ –¥–ª—è UX):**
5. –°–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–∏–π –ø–æ–∏—Å–∫
6. –ü–æ—Ö–æ–∂–∏–µ —Å—Ç–∞—Ç—å–∏ + –ì–û–†–ï–ù–ò–ï
7. –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è + —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω—ã–µ –ª–µ–Ω—Ç—ã
8. Telegram –±–æ—Ç

**LOW (–º–æ–∂–Ω–æ –æ—Ç–ª–æ–∂–∏—Ç—å):**
9. Admin –ø–∞–Ω–µ–ª—å
10. –ò—Å—Ç–æ—Ä–∏—è —Ä–µ–π—Ç–∏–Ω–≥–æ–≤
11. –ü–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∞—Ü–∏—è
12. Ollama (self-hosted)

---

## 8. SEO & Marketing —Å—Ç—Ä–∞—Ç–µ–≥–∏—è

### 8.1 SEO Roadmap (24 –Ω–µ–¥–µ–ª–∏)

–î–µ—Ç–∞–ª—å–Ω—ã–π –ø–ª–∞–Ω –ø—Ä–æ–¥–≤–∏–∂–µ–Ω–∏—è MediaSyndicate –≤ –ø–æ–∏—Å–∫–æ–≤—ã—Ö —Å–∏—Å—Ç–µ–º–∞—Ö –∏ —Å–æ—Ü–∏–∞–ª—å–Ω—ã—Ö —Å–µ—Ç—è—Ö.

#### **Phase 1: –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∞ (–Ω–µ–¥–µ–ª–∏ 1-4)**

**–ù–µ–¥–µ–ª—è 1: –ë–∞–∑–æ–≤–∞—è –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞**

**–ó–∞–¥–∞—á–∏:**
- ‚úÖ –ù–∞—Å—Ç—Ä–æ–∏—Ç—å Next.js –¥–ª—è SEO
  - next-sitemap –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ sitemap
  - next-seo –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è meta-—Ç–µ–≥–∞–º–∏
  - –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π —á–µ—Ä–µ–∑ next/image

- ‚úÖ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ URL
```
  /                              (–≥–ª–∞–≤–Ω–∞—è)
  /news/[slug]-[id]              (—Å—Ç–∞—Ç—å—è)
  /cluster/[slug]-[id]           (–∫–ª–∞—Å—Ç–µ—Ä)
  /category/[category-slug]      (–∫–∞—Ç–µ–≥–æ—Ä–∏—è)
  /search                         (–ø–æ–∏—Å–∫)
```

- ‚úÖ robots.txt
```
  User-agent: *
  Allow: /
  Disallow: /api/
  Disallow: /search?*
  Disallow: /admin
  
  Sitemap: https://mediasyndicate.online/sitemap.xml
  Sitemap: https://mediasyndicate.online/news-sitemap.xml
–†–µ–∑—É–ª—å—Ç–∞—Ç: SEO-friendly —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –≥–æ—Ç–æ–≤–∞

–ù–µ–¥–µ–ª—è 2: On-Page –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è
–ó–∞–¥–∞—á–∏:

‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–µ Title/Description

Title Tags (55-60 —Å–∏–º–≤–æ–ª–æ–≤):
typescript// –î–ª—è —Å—Ç–∞—Ç–µ–π:
title: `${article.title} - ${category} | MediaSyndicate`

// –î–ª—è –∫–ª–∞—Å—Ç–µ—Ä–æ–≤:
title: `${cluster.title}: ${sourcesCount} –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤ - MediaSyndicate`
Meta Descriptions (150-160 —Å–∏–º–≤–æ–ª–æ–≤):
typescript// –î–ª—è —Å—Ç–∞—Ç–µ–π:
description: `${article.summary} ‚Ä¢ –ò—Å—Ç–æ—á–Ω–∏–∫–∏: ${sources.join(', ')}`

// –î–ª—è –∫–ª–∞—Å—Ç–µ—Ä–æ–≤:
description: `${cluster.summary} ‚Ä¢ –†–∞–∑–≤–∏—Ç–∏–µ —Ç–µ–º—ã –∏ –ø–æ—Ö–æ–∂–∏–µ –Ω–æ–≤–æ—Å—Ç–∏`

‚úÖ Schema.org —Ä–∞–∑–º–µ—Ç–∫–∞

NewsArticle:
json{
  "@context": "https://schema.org",
  "@type": "NewsArticle",
  "headline": "–ó–∞–≥–æ–ª–æ–≤–æ–∫",
  "datePublished": "2024-11-17T16:30:00Z",
  "author": {
    "@type": "Organization",
    "name": "BBC Ukraine"
  },
  "publisher": {
    "@type": "Organization",
    "name": "MediaSyndicate",
    "logo": {
      "@type": "ImageObject",
      "url": "https://mediasyndicate.online/logo.png"
    }
  }
}

‚úÖ Open Graph —Ç–µ–≥–∏

html<meta property="og:title" content="..." />
<meta property="og:description" content="..." />
<meta property="og:image" content="..." />
<meta property="og:type" content="article" />
–†–µ–∑—É–ª—å—Ç–∞—Ç: –ö–∞–∂–¥–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–∞

–ù–µ–¥–µ–ª—è 3: Sitemap + Google News
–ó–∞–¥–∞—á–∏:

‚úÖ –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π XML sitemap

–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–∞–∂–¥—ã–µ 15 –º–∏–Ω—É—Ç
–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç —Å–≤–µ–∂–∏–º –Ω–æ–≤–æ—Å—Ç—è–º (priority: 1.0)
–°—Ç–∞—Ä—ã–µ: priority: 0.5


‚úÖ Google News sitemap

xml<url>
  <loc>https://mediasyndicate.online/news/article-id</loc>
  <news:news>
    <news:publication>
      <news:name>MediaSyndicate</news:name>
      <news:language>uk</news:language>
    </news:publication>
    <news:publication_date>2024-11-17T16:30:00Z</news:publication_date>
    <news:title>–ó–∞–≥–æ–ª–æ–≤–æ–∫</news:title>
    <news:keywords>–≤–æ–π–Ω–∞, –£–∫—Ä–∞–∏–Ω–∞</news:keywords>
  </news:news>
</url>
```

- ‚úÖ –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è
  - Google Search Console
  - Google Publisher Center (Google News)
  - Bing Webmaster Tools

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** –ì–æ—Ç–æ–≤ –∫ –∏–Ω–¥–µ–∫—Å–∞—Ü–∏–∏ –≤ Google News

---

**–ù–µ–¥–µ–ª—è 4: Core Web Vitals**

**–ó–∞–¥–∞—á–∏:**
- ‚úÖ –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
  - Lazy loading –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
  - Code splitting
  - Prefetch –∫—Ä–∏—Ç–∏—á–Ω—ã—Ö —Ä–µ—Å—É—Ä—Å–æ–≤

**–¶–µ–ª–µ–≤—ã–µ –º–µ—Ç—Ä–∏–∫–∏:**
```
LCP: <2.5s  (Largest Contentful Paint)
FID: <100ms (First Input Delay)
CLS: <0.1   (Cumulative Layout Shift)
```

- ‚úÖ –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —á–µ—Ä–µ–∑ Lighthouse CI

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** –°–∞–π—Ç –±—ã—Å—Ç—Ä—ã–π, Google –ª—é–±–∏—Ç

---

#### **Phase 2: –ö–æ–Ω—Ç–µ–Ω—Ç-—Å—Ç—Ä–∞—Ç–µ–≥–∏—è (–Ω–µ–¥–µ–ª–∏ 5-8)**

**–ù–µ–¥–µ–ª—è 5: –ö–æ–Ω—Ç–µ–Ω—Ç-–ø–ª–∞–Ω**

**–ó–∞–¥–∞—á–∏:**
- ‚úÖ –†–µ–¥–∞–∫—Ü–∏–æ–Ω–Ω—ã–π –∫–∞–ª–µ–Ω–¥–∞—Ä—å
```
–ü–æ–Ω–µ–¥–µ–ª—å–Ω–∏–∫: "–ò—Ç–æ–≥–∏ –Ω–µ–¥–µ–ª–∏"
–°—Ä–µ–¥–∞: –ê–Ω–∞–ª–∏—Ç–∏—á–µ—Å–∫–∞—è —Å—Ç–∞—Ç—å—è
–ü—è—Ç–Ω–∏—Ü–∞: –ò–Ω—Ñ–æ–≥—Ä–∞—Ñ–∏–∫–∞ –∏–ª–∏ –≤–∏–¥–µ–æ
```

- ‚úÖ –ü–µ—Ä–≤—ã–µ 5 —Å—Ç–∞—Ç–µ–π –¥–ª—è –±–ª–æ–≥–∞:
1. "–ö–∞–∫ –ø—Ä–æ–≤–µ—Ä—è—Ç—å –¥–æ—Å—Ç–æ–≤–µ—Ä–Ω–æ—Å—Ç—å –Ω–æ–≤–æ—Å—Ç–µ–π: –≥–∞–π–¥ 2024"
2. "–¢–û–ü-20 –Ω–∞–¥–µ–∂–Ω—ã—Ö –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤ –Ω–æ–≤–æ—Å—Ç–µ–π –£–∫—Ä–∞–∏–Ω—ã"
3. "–¢–∏–ø—ã —Ñ–µ–π–∫–æ–≤ –∏ –∫–∞–∫ –∏—Ö —Ä–∞—Å–ø–æ–∑–Ω–∞—Ç—å (–∏–Ω—Ñ–æ–≥—Ä–∞—Ñ–∏–∫–∞)"
4. "–ß—Ç–æ —Ç–∞–∫–æ–µ –ì–û–†–ï–ù–ò–ï –Ω–æ–≤–æ—Å—Ç–∏ –∏ –∑–∞—á–µ–º —ç—Ç–æ –Ω—É–∂–Ω–æ"
5. "MediaSyndicate vs Google News: –≤ —á–µ–º —Ä–∞–∑–Ω–∏—Ü–∞"

- ‚úÖ –ö–µ–π–≤–æ—Ä–¥—ã –¥–ª—è –∫–∞–∂–¥–æ–π —Å—Ç–∞—Ç—å–∏
  - –û—Å–Ω–æ–≤–Ω–æ–π: 1 high-volume
  - –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ: 3-5 long-tail

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** –ö–æ–Ω—Ç–µ–Ω—Ç-–ø–ª–∞–Ω –Ω–∞ –º–µ—Å—è—Ü

---

**–ù–µ–¥–µ–ª—è 6-7: –°–æ–∑–¥–∞–Ω–∏–µ –∫–æ–Ω—Ç–µ–Ω—Ç–∞**

**–ó–∞–¥–∞—á–∏:**
- ‚úÖ –ù–∞–ø–∏—Å–∞—Ç—å 5 —Å—Ç–∞—Ç–µ–π
- ‚úÖ –ò–Ω—Ñ–æ–≥—Ä–∞—Ñ–∏–∫–∞ (Canva/Figma)
- ‚úÖ –í–∏–¥–µ–æ "–û–±–∑–æ—Ä MediaSyndicate" (3-5 –º–∏–Ω)
- ‚úÖ SEO –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è:
  - H1, H2, H3 —Å—Ç—Ä—É–∫—Ç—É—Ä–∞
  - –í–Ω—É—Ç—Ä–µ–Ω–Ω–∏–µ —Å—Å—ã–ª–∫–∏ (3-5)
  - Alt-—Ç–µ–∫—Å—Ç –¥–ª—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** –ü–µ—Ä–≤—ã–π –∫–æ–Ω—Ç–µ–Ω—Ç –æ–ø—É–±–ª–∏–∫–æ–≤–∞–Ω

---

**–ù–µ–¥–µ–ª—è 8: –ê–Ω–∞–ª–∏—Ç–∏–∫–∞**

**–ó–∞–¥–∞—á–∏:**
- ‚úÖ Google Analytics 4
  - –°–æ–±—ã—Ç–∏—è: –∫–ª–∏–∫–∏, –≤—Ä–µ–º—è –Ω–∞ —Å–∞–π—Ç–µ
  - –ö–æ–Ω–≤–µ—Ä—Å–∏–∏: —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è, —Å–æ–∑–¥–∞–Ω–∏–µ —Ç–∞–±–∞

- ‚úÖ Google Search Console
  - Impressions, clicks, CTR
  - –û—à–∏–±–∫–∏ –∏–Ω–¥–µ–∫—Å–∞—Ü–∏–∏

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** –ê–Ω–∞–ª–∏—Ç–∏–∫–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç

---

#### **Phase 3: Link Building (–Ω–µ–¥–µ–ª–∏ 9-12)**

**–ù–µ–¥–µ–ª—è 9-10: Linkable assets**

**–ó–∞–¥–∞—á–∏:**
- ‚úÖ –°–æ–∑–¥–∞—Ç—å —Ü–µ–Ω–Ω—ã–µ –º–∞—Ç–µ—Ä–∏–∞–ª—ã:

1. **–ò—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ:** "–ö–∞–∫ —É–∫—Ä–∞–∏–Ω—Ü—ã –ø–æ—Ç—Ä–µ–±–ª—è—é—Ç –Ω–æ–≤–æ—Å—Ç–∏ –≤ 2024"
   - –û–ø—Ä–æ—Å 500+ —á–µ–ª–æ–≤–µ–∫
   - –ò–Ω—Ñ–æ–≥—Ä–∞—Ñ–∏–∫–∞ —Å –¥–∞–Ω–Ω—ã–º–∏

2. **–ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç:** "–ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–æ–≤–æ—Å—Ç–∏ –Ω–∞ –¥—É–±–ª–∏–∫–∞—Ç—ã"
   - –ë–µ—Å–ø–ª–∞—Ç–Ω—ã–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç
   - Shareworthy –∫–æ–Ω—Ç–µ–Ω—Ç

3. **–ì–∞–π–¥:** "–ö–∞–∫ —Å–æ–∑–¥–∞—Ç—å —Å–≤–æ—é –Ω–æ–≤–æ—Å—Ç–Ω—É—é –ª–µ–Ω—Ç—É"
   - –ü–æ—à–∞–≥–æ–≤–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è
   - –°–∫—Ä–∏–Ω—à–æ—Ç—ã

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** 3 –º–∞—Ç–µ—Ä–∏–∞–ª–∞ –¥–ª—è –±–µ–∫–ª–∏–Ω–∫–æ–≤

---

**–ù–µ–¥–µ–ª—è 11: Outreach**

**–ó–∞–¥–∞—á–∏:**
- ‚úÖ –°–ø–∏—Å–æ–∫ 50 —Ü–µ–ª–µ–≤—ã—Ö –ø–ª–æ—â–∞–¥–æ–∫:
  - 20 —É–∫—Ä–∞–∏–Ω—Å–∫–∏—Ö –º–µ–¥–∏–∞ (DA 40+)
  - 15 tech –±–ª–æ–≥–æ–≤
  - 15 –æ–±—Ä–∞–∑–æ–≤–∞—Ç–µ–ª—å–Ω—ã—Ö —Ä–µ—Å—É—Ä—Å–æ–≤

- ‚úÖ Outreach –∫–∞–º–ø–∞–Ω–∏—è
```
–¢–µ–º–∞: –ù–æ–≤–æ–µ –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ –æ –ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏–∏ –Ω–æ–≤–æ—Å—Ç–µ–π

–ü—Ä–∏–≤–µ—Ç [–ò–º—è],

–ú—ã –ø—Ä–æ–≤–µ–ª–∏ –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ, –∫–∞–∫ —É–∫—Ä–∞–∏–Ω—Ü—ã –ø–æ—Ç—Ä–µ–±–ª—è—é—Ç –Ω–æ–≤–æ—Å—Ç–∏.
–û–ø—Ä–æ—Å–∏–ª–∏ 500+ —á–µ–ª–æ–≤–µ–∫ –∏ –ø–æ–ª—É—á–∏–ª–∏ –∏–Ω—Ç–µ—Ä–µ—Å–Ω—ã–µ –∏–Ω—Å–∞–π—Ç—ã.

–í–æ–∑–º–æ–∂–Ω–æ, –≤–∞—à–µ–π –∞—É–¥–∏—Ç–æ—Ä–∏–∏ –±—É–¥–µ—Ç –∏–Ω—Ç–µ—Ä–µ—Å–Ω–æ:
[—Å—Å—ã–ª–∫–∞]

–ë—É–¥—É —Ä–∞–¥ –æ–±—Å—É–¥–∏—Ç—å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —É–ø–æ–º–∏–Ω–∞–Ω–∏—è.

–° —É–≤–∞–∂–µ–Ω–∏–µ–º,
–ö–æ–º–∞–Ω–¥–∞ MediaSyndicate
```

**–¶–µ–ª—å:** 5-10 –±–µ–∫–ª–∏–Ω–∫–æ–≤

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** –ü–µ—Ä–≤—ã–µ –∫–∞—á–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –±–µ–∫–ª–∏–Ω–∫–∏

---

**–ù–µ–¥–µ–ª—è 12: –ì–æ—Å—Ç–µ–≤—ã–µ –ø–æ—Å—Ç—ã**

**–ó–∞–¥–∞—á–∏:**
- ‚úÖ 3 –≥–æ—Å—Ç–µ–≤—ã—Ö –ø–æ—Å—Ç–∞:
1. **DOU.ua:** "–ö–∞–∫ –º—ã –∏—Å–ø–æ–ª—å–∑—É–µ–º AI –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ –Ω–æ–≤–æ—Å—Ç–µ–π"
2. **Medium:** "–ú–µ–¥–∏–∞-–≥—Ä–∞–º–æ—Ç–Ω–æ—Å—Ç—å –≤ —ç–ø–æ—Ö—É —Ñ–µ–π–∫–æ–≤"
3. **AIN.ua:** "–°—Ç–∞—Ä—Ç–∞–ø –≤ –º–µ–¥–∏–∞: –∫–∞–∫ –∑–∞–ø—É—Å—Ç–∏—Ç—å –∞–≥—Ä–µ–≥–∞—Ç–æ—Ä"

**–ö–∞–∂–¥—ã–π –ø–æ—Å—Ç:**
- 1500+ —Å–ª–æ–≤
- 1-2 —Å—Å—ã–ª–∫–∏ –Ω–∞ MediaSyndicate
- –¶–µ–Ω–Ω–æ—Å—Ç—å –¥–ª—è —á–∏—Ç–∞—Ç–µ–ª—è

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** 3 –ø–æ—Å—Ç–∞ + –±–µ–∫–ª–∏–Ω–∫–∏

---

#### **Phase 4: Social Media (–Ω–µ–¥–µ–ª–∏ 13-16)**

**–ù–µ–¥–µ–ª—è 13: Telegram –∫–∞–Ω–∞–ª**

**–ó–∞–¥–∞—á–∏:**
- ‚úÖ –°–æ–∑–¥–∞—Ç—å @MediaSyndicateUA
- ‚úÖ –û—Ñ–æ—Ä–º–ª–µ–Ω–∏–µ (–∞–≤–∞—Ç–∞—Ä, –æ–±–ª–æ–∂–∫–∞, –æ–ø–∏—Å–∞–Ω–∏–µ)
- ‚úÖ –ö–æ–Ω—Ç–µ–Ω—Ç-–ø–ª–∞–Ω:
```
08:00 - –£—Ç—Ä–µ–Ω–Ω–∏–π –¥–∞–π–¥–∂–µ—Å—Ç (5 –Ω–æ–≤–æ—Å—Ç–µ–π)
–í —Ç–µ—á–µ–Ω–∏–µ –¥–Ω—è - –ì–æ—Ä—è—á–∏–µ –Ω–æ–≤–æ—Å—Ç–∏
20:00 - –í–µ—á–µ—Ä–Ω–∏–π –¥–∞–π–¥–∂–µ—Å—Ç (—Ç–æ–ø-10)

‚úÖ –ü—Ä–æ–º–æ ($100 –±—é–¥–∂–µ—Ç)

–†–µ–∑—É–ª—å—Ç–∞—Ç: 100-200 –ø–æ–¥–ø–∏—Å—á–∏–∫–æ–≤

–ù–µ–¥–µ–ª—è 14: Twitter/X
–ó–∞–¥–∞—á–∏:

‚úÖ @MediaSyndicateUA
‚úÖ –ê–≤—Ç–æ–ø–æ—Å—Ç–∏–Ω–≥ –∏–∑ Telegram
‚úÖ –•–µ—à—Ç–µ–≥–∏: #–£–∫—Ä–∞—ó–Ω—Å—å–∫—ñ–ù–æ–≤–∏–Ω–∏ #NewsUkraine

–†–µ–∑—É–ª—å—Ç–∞—Ç: –ü—Ä–∏—Å—É—Ç—Å—Ç–≤–∏–µ –≤ Twitter

–ù–µ–¥–µ–ª—è 15: Facebook
–ó–∞–¥–∞—á–∏:

‚úÖ –°—Ç—Ä–∞–Ω–∏—Ü–∞ MediaSyndicate
‚úÖ Facebook Ads ($200)

–ê—É–¥–∏—Ç–æ—Ä–∏—è: 35-55 –ª–µ—Ç, –£–∫—Ä–∞–∏–Ω–∞



–†–µ–∑—É–ª—å—Ç–∞—Ç: Facebook —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –∞–∫—Ç–∏–≤–Ω–∞

–ù–µ–¥–µ–ª—è 16: YouTube
–ó–∞–¥–∞—á–∏:

‚úÖ –ö–∞–Ω–∞–ª MediaSyndicate
‚úÖ –ü–µ—Ä–≤—ã–µ 3 –≤–∏–¥–µ–æ:


"–ß—Ç–æ —Ç–∞–∫–æ–µ MediaSyndicate –∑–∞ 3 –º–∏–Ω—É—Ç—ã"
"–ì–û–†–ï–ù–ò–ï: –∫–∞–∫ –º—ã –ø–æ–∫–∞–∑—ã–≤–∞–µ–º —Ä–∞–∑–≤–∏—Ç–∏–µ –Ω–æ–≤–æ—Å—Ç–µ–π"
"–ù–æ–≤–æ—Å—Ç–∏ –Ω–µ–¥–µ–ª–∏: —Ç–æ–ø-5 —Å–æ–±—ã—Ç–∏–π"

–†–µ–∑—É–ª—å—Ç–∞—Ç: YouTube –∑–∞–ø—É—â–µ–Ω

Phase 5: Growth & Optimization (–Ω–µ–¥–µ–ª–∏ 17-24)
–ù–µ–¥–µ–ª—è 17-18: A/B —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
–ó–∞–¥–∞—á–∏:

‚úÖ Title/Description –≤–∞—Ä–∏–∞–Ω—Ç—ã
‚úÖ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Å—Ç–∞—Ç–µ–π

–ú–µ—Ç—Ä–∏–∫–∞: CTR –≤ –ø–æ–∏—Å–∫–µ

–ù–µ–¥–µ–ª—è 19-20: Featured Snippets
–ó–∞–¥–∞—á–∏:

‚úÖ 5 —Å—Ç–∞—Ç–µ–π –¥–ª—è snippets:

–ß–µ—Ç–∫–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞
–°–ø–∏—Å–∫–∏, —Ç–∞–±–ª–∏—Ü—ã, FAQ
–ü—Ä–∏–º–µ—Ä: "–ß—Ç–æ —Ç–∞–∫–æ–µ –ì–û–†–ï–ù–ò–ï –Ω–æ–≤–æ—Å—Ç–∏?"



–¶–µ–ª—å: 2-3 snippets

–ù–µ–¥–µ–ª—è 21-22: –õ–æ–∫–∞–ª—å–Ω–æ–µ SEO
–ó–∞–¥–∞—á–∏:

‚úÖ –£–∫—Ä–∞–∏–Ω—Å–∫–∞—è –≤–µ—Ä—Å–∏—è (uk.mediasyndicate.online)
‚úÖ Hreflang —Ç–µ–≥–∏

html<link rel="alternate" hreflang="uk" href="..." />
<link rel="alternate" hreflang="ru" href="..." />
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** –û—Ö–≤–∞—Ç —É–∫—Ä–∞–∏–Ω–æ—è–∑—ã—á–Ω–æ–π –∞—É–¥–∏—Ç–æ—Ä–∏–∏

---

**–ù–µ–¥–µ–ª—è 23-24: –ü–∞—Ä—Ç–Ω–µ—Ä—Å—Ç–≤–∞**

**–ó–∞–¥–∞—á–∏:**
- ‚úÖ –§–∞–∫—Ç—á–µ–∫–µ—Ä—ã (StopFake, VoxCheck)
- ‚úÖ –ú–µ–¥–∏–∞-–ø–∞—Ä—Ç–Ω–µ—Ä—ã (–≤–∏–¥–∂–µ—Ç, –≤–∑–∞–∏–º–Ω—ã–µ —É–ø–æ–º–∏–Ω–∞–Ω–∏—è)

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** 2-3 –ø–∞—Ä—Ç–Ω–µ—Ä—Å—Ç–≤–∞

---

### 8.2 KPI –ø–æ —Ñ–∞–∑–∞–º

**Phase 1-2 (–Ω–µ–¥–µ–ª–∏ 1-8):**
```
–ò–Ω–¥–µ–∫—Å–∞—Ü–∏—è: 500+ —Å—Ç—Ä–∞–Ω–∏—Ü
–û—Ä–≥–∞–Ω–∏—á–µ—Å–∫–∏–π —Ç—Ä–∞—Ñ–∏–∫: 100-300 –≤–∏–∑–∏—Ç–æ–≤/–º–µ—Å—è—Ü
Google News: –∑–∞—è–≤–∫–∞ –ø–æ–¥–∞–Ω–∞
```

**Phase 3 (–Ω–µ–¥–µ–ª–∏ 9-12):**
```
–ë–µ–∫–ª–∏–Ω–∫–∏: 10-20 –∫–∞—á–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö
–ö–æ–Ω—Ç–µ–Ω—Ç: 10 —Å—Ç–∞—Ç–µ–π
–û—Ä–≥–∞–Ω–∏—á–µ—Å–∫–∏–π —Ç—Ä–∞—Ñ–∏–∫: 500-1000 –≤–∏–∑–∏—Ç–æ–≤/–º–µ—Å—è—Ü
–¢–æ–ø-100 –∑–∞–ø—Ä–æ—Å–æ–≤: 20-30
```

**Phase 4 (–Ω–µ–¥–µ–ª–∏ 13-16):**
```
Telegram: 500-1000 –ø–æ–¥–ø–∏—Å—á–∏–∫–æ–≤
Twitter: 200-500
Facebook: 500-1000
YouTube: 100-300
```

**Phase 5 (–Ω–µ–¥–µ–ª–∏ 17-24):**
```
–û—Ä–≥–∞–Ω–∏—á–µ—Å–∫–∏–π —Ç—Ä–∞—Ñ–∏–∫: 3000-5000 –≤–∏–∑–∏—Ç–æ–≤/–º–µ—Å—è—Ü
–¢–æ–ø-10 –∑–∞–ø—Ä–æ—Å–æ–≤: 10-20
Featured Snippets: 3-5
Domain Authority: 15-20
```

---

### 8.3 SEO Budget (6 –º–µ—Å—è—Ü–µ–≤)
```
–ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã (Ahrefs Lite):   $100/–º–µ—Å √ó 6 = $600
–ö–æ–Ω—Ç–µ–Ω—Ç (–∫–æ–ø–∏—Ä–∞–π—Ç–µ—Ä—ã):        $300/–º–µ—Å √ó 6 = $1,800
–î–∏–∑–∞–π–Ω (–∏–Ω—Ñ–æ–≥—Ä–∞—Ñ–∏–∫–∞, –≤–∏–¥–µ–æ):  $200/–º–µ—Å √ó 6 = $1,200
Outreach:                      $200 √ó 3 = $600
Ads (Telegram, Facebook):      $500
‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
–ò—Ç–æ–≥–æ:                         $4,700

8.4 –ö–ª—é—á–µ–≤—ã–µ —Å–ª–æ–≤–∞
–í—ã—Å–æ–∫–æ—á–∞—Å—Ç–æ—Ç–Ω—ã–µ (head terms):

"–Ω–æ–≤–æ—Å—Ç–∏ –£–∫—Ä–∞–∏–Ω—ã"
"–Ω–æ–≤–æ—Å—Ç–∏ —Å–µ–≥–æ–¥–Ω—è"
"–≤–æ–π–Ω–∞ –≤ –£–∫—Ä–∞–∏–Ω–µ"
"–Ω–æ–≤–æ—Å—Ç–∏ –æ–Ω–ª–∞–π–Ω"

–°—Ä–µ–¥–Ω–µ—á–∞—Å—Ç–æ—Ç–Ω—ã–µ (body terms):

"–Ω–æ–≤–æ—Å—Ç–∏ –ø–æ–ª–∏—Ç–∏–∫–∏ –£–∫—Ä–∞–∏–Ω—ã"
"–Ω–æ–≤–æ—Å—Ç–∏ —ç–∫–æ–Ω–æ–º–∏–∫–∏ –£–∫—Ä–∞–∏–Ω—ã"
"–Ω–æ–≤–∏–Ω–∏ –£–∫—Ä–∞—ó–Ω–∏ –æ–Ω–ª–∞–π–Ω"
"–ø–æ—Å–ª–µ–¥–Ω–∏–µ –Ω–æ–≤–æ—Å—Ç–∏ –£–∫—Ä–∞–∏–Ω—ã"

–î–ª–∏–Ω–Ω–æ—Ö–≤–æ—Å—Ç—ã–µ (long-tail):

"—á—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –≤ –ó–∞–ø–æ—Ä–æ–∂—å–µ —Å–µ–≥–æ–¥–Ω—è"
"—Ä–∞–∑–≤–∏—Ç–∏–µ —Å–∏—Ç—É–∞—Ü–∏–∏ —Å —ç–Ω–µ—Ä–≥–µ—Ç–∏–∫–æ–π –£–∫—Ä–∞–∏–Ω—ã"
"–Ω–æ–≤–æ—Å—Ç–∏ –≤–æ–π–Ω—ã –≤ –£–∫—Ä–∞–∏–Ω–µ –∏–∑ —Ä–∞–∑–Ω—ã—Ö –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤"
"–æ–±—ä–µ–∫—Ç–∏–≤–Ω—ã–µ –Ω–æ–≤–æ—Å—Ç–∏ –£–∫—Ä–∞–∏–Ω—ã 2024"

–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã:

"–∫–∞–∫ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –Ω–æ–≤–æ—Å—Ç—å –Ω–∞ –¥–æ—Å—Ç–æ–≤–µ—Ä–Ω–æ—Å—Ç—å"
"–≥–¥–µ —Å–º–æ—Ç—Ä–µ—Ç—å –æ–±—ä–µ–∫—Ç–∏–≤–Ω—ã–µ –Ω–æ–≤–æ—Å—Ç–∏"
"—Å—Ä–∞–≤–Ω–∏—Ç—å –Ω–æ–≤–æ—Å—Ç–∏ –∏–∑ —Ä–∞–∑–Ω—ã—Ö –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤"


9. Deployment –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏
9.1 Docker Compose (Production)
yaml# docker-compose.prod.yml

version: '3.8'

services:
  postgres:
    image: timescale/timescaledb:latest-pg16
    container_name: mediasyndicate-postgres
    environment:
      POSTGRES_DB: mediasyndicate
      POSTGRES_USER: postgres
      POSTGRES_PASSWORD: ${POSTGRES_PASSWORD}
    volumes:
      - postgres_data:/var/lib/postgresql/data
    ports:
      - "5432:5432"
    restart: unless-stopped
    healthcheck:
      test: ["CMD-SHELL", "pg_isready -U postgres"]
      interval: 10s
      timeout: 5s
      retries: 5

  qdrant:
    image: qdrant/qdrant:latest
    container_name: mediasyndicate-qdrant
    volumes:
      - qdrant_data:/qdrant/storage
    ports:
      - "6333:6333"
      - "6334:6334"
    restart: unless-stopped

  redis:
    image: redis:7-alpine
    container_name: mediasyndicate-redis
    volumes:
      - redis_data:/data
    ports:
      - "6379:6379"
    command: redis-server --appendonly yes
    restart: unless-stopped

  app:
    build:
      context: .
      dockerfile: Dockerfile
    container_name: mediasyndicate-app
    environment:
      DATABASE_URL: postgresql://postgres:${POSTGRES_PASSWORD}@postgres:5432/mediasyndicate
      QDRANT_URL: http://qdrant:6333
      REDIS_URL: redis://redis:6379
      GROQ_API_KEY: ${GROQ_API_KEY}
      HUGGINGFACE_API_KEY: ${HUGGINGFACE_API_KEY}
      NEXTAUTH_SECRET: ${NEXTAUTH_SECRET}
      NEXTAUTH_URL: https://mediasyndicate.online
      AI_PROVIDER: huggingface-groq
    depends_on:
      - postgres
      - qdrant
      - redis
    ports:
      - "3000:3000"
    restart: unless-stopped

  worker:
    build:
      context: .
      dockerfile: Dockerfile.worker
    container_name: mediasyndicate-worker
    environment:
      DATABASE_URL: postgresql://postgres:${POSTGRES_PASSWORD}@postgres:5432/mediasyndicate
      QDRANT_URL: http://qdrant:6333
      REDIS_URL: redis://redis:6379
      GROQ_API_KEY: ${GROQ_API_KEY}
      HUGGINGFACE_API_KEY: ${HUGGINGFACE_API_KEY}
      AI_PROVIDER: huggingface-groq
    depends_on:
      - postgres
      - qdrant
      - redis
    restart: unless-stopped

volumes:
  postgres_data:
  qdrant_data:
  redis_data:

9.2 Dockerfile (Next.js)
dockerfile# Dockerfile

FROM node:20-alpine AS base

# Dependencies
FROM base AS deps
RUN apk add --no-cache libc6-compat
WORKDIR /app

COPY package*.json ./
COPY prisma ./prisma/
RUN npm ci
RUN npx prisma generate

# Builder
FROM base AS builder
WORKDIR /app
COPY --from=deps /app/node_modules ./node_modules
COPY . .

ENV NEXT_TELEMETRY_DISABLED 1
RUN npm run build

# Runner
FROM base AS runner
WORKDIR /app

ENV NODE_ENV production
ENV NEXT_TELEMETRY_DISABLED 1

RUN addgroup --system --gid 1001 nodejs
RUN adduser --system --uid 1001 nextjs

COPY --from=builder /app/public ./public
COPY --from=builder --chown=nextjs:nodejs /app/.next/standalone ./
COPY --from=builder --chown=nextjs:nodejs /app/.next/static ./.next/static

USER nextjs

EXPOSE 3000

ENV PORT 3000
ENV HOSTNAME "0.0.0.0"

CMD ["node", "server.js"]

9.3 Dockerfile.worker (Background Jobs)
dockerfile# Dockerfile.worker

FROM node:20-alpine AS base

# Dependencies
FROM base AS deps
WORKDIR /app

COPY package*.json ./
COPY prisma ./prisma/
RUN npm ci
RUN npx prisma generate

# Runner
FROM base AS runner
WORKDIR /app

ENV NODE_ENV production

COPY --from=deps /app/node_modules ./node_modules
COPY . .

CMD ["node", "workers/index.js"]
```

---

### 9.4 Deployment —á–µ—Ä–µ–∑ Dokploy

**–®–∞–≥–∏:**

1. **–°–æ–∑–¥–∞—Ç—å –ø—Ä–æ–µ–∫—Ç –≤ Dokploy**
   - –ü–æ–¥–∫–ª—é—á–∏—Ç—å GitHub: https://github.com/x35m/syndicate
   - –£–∫–∞–∑–∞—Ç—å docker-compose.prod.yml

2. **Environment Variables:**
```
   POSTGRES_PASSWORD=
   GROQ_API_KEY=
   HUGGINGFACE_API_KEY=
   NEXTAUTH_SECRET=
   TELEGRAM_BOT_TOKEN=

Deploy:

Dokploy –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–±–µ—Ä–µ—Ç –æ–±—Ä–∞–∑—ã
–ó–∞–ø—É—Å—Ç–∏—Ç –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã
–ù–∞—Å—Ç—Ä–æ–∏—Ç Caddy (SSL)


–ü–æ—Å–ª–µ –ø–µ—Ä–≤–æ–≥–æ –¥–µ–ø–ª–æ—è:

bash   # –ü–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –∫ —Å–µ—Ä–≤–µ—Ä—É
   ssh root@31.172.75.175
   
   # –ó–∞–ø—É—Å—Ç–∏—Ç—å –º–∏–≥—Ä–∞—Ü–∏–∏
   docker exec mediasyndicate-app npx prisma migrate deploy
   
   # –°–æ–∑–¥–∞—Ç—å –∫–æ–ª–ª–µ–∫—Ü–∏—é Qdrant
   # (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –∑–∞–ø—É—Å–∫–µ)

9.5 Environment Variables
bash# .env.production

# Database
DATABASE_URL="postgresql://postgres:PASSWORD@localhost:5432/mediasyndicate"

# Vector DB
QDRANT_URL="http://localhost:6333"

# Cache & Queues
REDIS_URL="redis://localhost:6379"

# AI APIs
AI_PROVIDER="huggingface-groq"  # –∏–ª–∏ "ollama"
GROQ_API_KEY="gsk_..."
HUGGINGFACE_API_KEY="hf_..."

# Auth
NEXTAUTH_SECRET="generate-with-openssl-rand-base64-32"
NEXTAUTH_URL="https://mediasyndicate.online"

# Telegram
TELEGRAM_BOT_TOKEN="123456:ABC-DEF..."
TELEGRAM_CHANNEL_ID="@MediaSyndicateUA"

# Optional: Monitoring
SENTRY_DSN=""

10. –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –ø–æ–¥–¥–µ—Ä–∂–∫–∞
10.1 –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥
–ë–∞–∑–æ–≤—ã–π —É—Ä–æ–≤–µ–Ω—å (Phase 1):

Docker logs
Prisma query logs
Console.log –≤ –∫—Ä–∏—Ç–∏—á–Ω—ã—Ö –º–µ—Å—Ç–∞—Ö

–ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–π (Phase 4):

Sentry - error tracking
Grafana + Prometheus - –º–µ—Ç—Ä–∏–∫–∏

CPU/RAM usage
API latency
Queue –¥–ª–∏–Ω–∞ (BullMQ)
Database connections




10.2 –ú–µ—Ç—Ä–∏–∫–∏ –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è
–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ:

Uptime: 99.5%+
API response time: <500ms (p95)
–ò–º–ø–æ—Ä—Ç —Å—Ç–∞—Ç–µ–π: X/—á–∞—Å
–û—à–∏–±–∫–∏ –∏–º–ø–æ—Ä—Ç–∞: <5%
–†–∞–∑–º–µ—Ä –ë–î

–ë–∏–∑–Ω–µ—Å–æ–≤—ã–µ:

–°—Ç–∞—Ç–µ–π –≤ –ë–î
–ö–ª–∞—Å—Ç–µ—Ä–æ–≤ —Å–æ–∑–¥–∞–Ω–æ
–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–æ
Telegram –ø–æ–¥–ø–∏—Å—á–∏–∫–æ–≤
Daily Active Users (DAU)


10.3 Backup —Å—Ç—Ä–∞—Ç–µ–≥–∏—è
PostgreSQL:

–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –±—ç–∫–∞–ø –∫–∞–∂–¥—ã–π –¥–µ–Ω—å (3:00 AM)
Retention: 30 –¥–Ω–µ–π

bash# –°–∫—Ä–∏–ø—Ç –±—ç–∫–∞–ø–∞
pg_dump mediasyndicate | gzip > backup-$(date +%Y%m%d).sql.gz

# –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ
gunzip < backup-20241117.sql.gz | psql mediasyndicate
Qdrant:

Snapshot —Ä–∞–∑ –≤ –Ω–µ–¥–µ–ª—é
–•—Ä–∞–Ω–µ–Ω–∏–µ –Ω–∞ S3 (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

Redis:

AOF persistence –≤–∫–ª—é—á–µ–Ω
–î–∞–Ω–Ω—ã–µ –Ω–µ –∫—Ä–∏—Ç–∏—á–Ω—ã (–∫—ç—à)


11. –ê–¥–º–∏–Ω –ø–∞–Ω–µ–ª—å
11.1 –û–±–∑–æ—Ä
–¶–µ–ª—å: –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–æ–Ω—Ç–µ–Ω—Ç–æ–º, –∏—Å—Ç–æ—á–Ω–∏–∫–∞–º–∏, –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Å–∏—Å—Ç–µ–º—ã
–î–æ—Å—Ç—É–ø: –¢–æ–ª—å–∫–æ –¥–ª—è ADMIN –∏ MODERATOR
URL: /admin

11.2 –†–æ–ª–∏ –∏ –ø—Ä–∞–≤–∞
prismaenum UserRole {
  USER       // –û–±—ã—á–Ω—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å
  MODERATOR  // –ú–æ–¥–µ—Ä–∞—Ç–æ—Ä (Phase 5)
  ADMIN      // –ü–æ–ª–Ω—ã–π –¥–æ—Å—Ç—É–ø
}
–ú–∞—Ç—Ä–∏—Ü–∞ –ø—Ä–∞–≤:
–§—É–Ω–∫—Ü–∏—èUSERMODERATORADMIN–ü—Ä–æ—Å–º–æ—Ç—Ä –Ω–æ–≤–æ—Å—Ç–µ–π‚úÖ‚úÖ‚úÖ–°–æ–∑–¥–∞–Ω–∏–µ —Ç–∞–±–æ–≤‚úÖ‚úÖ‚úÖ–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∏—Å—Ç–æ—á–Ω–∏–∫–∞–º–∏‚ùå‚úÖ‚úÖ–ú–æ–¥–µ—Ä–∞—Ü–∏—è –∫–ª–∞—Å—Ç–µ—Ä–æ–≤‚ùå‚úÖ‚úÖ–ü—Ä–æ—Å–º–æ—Ç—Ä –º–µ—Ç—Ä–∏–∫‚ùå‚úÖ‚úÖ–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏‚ùå‚ùå‚úÖ–ù–∞—Å—Ç—Ä–æ–π–∫–∏ —Å–∏—Å—Ç–µ–º—ã‚ùå‚ùå‚úÖ

11.3 –°—Ç—Ä–∞–Ω–∏—Ü—ã –∞–¥–º–∏–Ω–∫–∏
11.3.1 Dashboard
–ü—É—Ç—å: /admin/dashboard
–í–∏–¥–∂–µ—Ç—ã:

üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∑–∞ —Å–µ–≥–æ–¥–Ω—è
üìà –ì—Ä–∞—Ñ–∏–∫–∏ –∑–∞ –Ω–µ–¥–µ–ª—é
üî• –¢–æ–ø –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤
‚ö†Ô∏è –ü–æ—Å–ª–µ–¥–Ω–∏–µ –æ—à–∏–±–∫–∏
‚öôÔ∏è –°—Ç–∞—Ç—É—Å —Å–∏—Å—Ç–µ–º—ã

API:
typescriptGET /api/admin/dashboard

Response: {
  today: { articlesImported: 342, ... },
  weekStats: [...],
  topSources: [...],
  recentErrors: [...],
  systemStatus: {...}
}
```

---

#### **11.3.2 –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∏—Å—Ç–æ—á–Ω–∏–∫–∞–º–∏**

**–ü—É—Ç—å:** `/admin/sources`

**–¢–∞–±—ã:** [RSS –§–∏–¥—ã] [Telegram –ö–∞–Ω–∞–ª—ã]

**–§—É–Ω–∫—Ü–∏–∏:**
- –î–æ–±–∞–≤–∏—Ç—å –∏—Å—Ç–æ—á–Ω–∏–∫
- –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å
- –£–¥–∞–ª–∏—Ç—å
- –ü–æ—Å—Ç–∞–≤–∏—Ç—å –Ω–∞ –ø–∞—É–∑—É
- –¢–µ—Å—Ç–æ–≤–æ–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ

**–§–æ—Ä–º–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è RSS:**
```
–ù–∞–∑–≤–∞–Ω–∏–µ: [BBC Ukraine]
URL: [https://feeds.bbci.co.uk/...]
–ü—Ä–æ–≤–µ—Ä–µ–Ω–Ω—ã–π: ‚òëÔ∏è –î–∞
–ö–∞—Ç–µ–≥–æ—Ä–∏—è –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: [–í—ã–±—Ä–∞—Ç—å ‚ñº]

[üîç –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å] [üíæ –°–æ—Ö—Ä–∞–Ω–∏—Ç—å]
API:
typescriptGET /api/admin/sources?type=RSS
POST /api/admin/sources
PATCH /api/admin/sources/[id]
DELETE /api/admin/sources/[id]
POST /api/admin/sources/test
```

---

#### **11.3.3 –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–ª–∞—Å—Ç–µ—Ä–∞–º–∏**

**–ü—É—Ç—å:** `/admin/clusters`

**–§—É–Ω–∫—Ü–∏–∏:**
- –ü—Ä–æ—Å–º–æ—Ç—Ä –≤—Å–µ—Ö –∫–ª–∞—Å—Ç–µ—Ä–æ–≤
- –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ summary
- –û–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ –∫–ª–∞—Å—Ç–µ—Ä–æ–≤
- –†–∞–∑–¥–µ–ª–µ–Ω–∏–µ –∫–ª–∞—Å—Ç–µ—Ä–æ–≤

**–ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ "–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å summary":**
```
–¢–µ–∫—É—â–∏–π AI-generated summary:
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ –†–æ—Å—Å–∏—è –Ω–∞–Ω–µ—Å–ª–∞ —É–¥–∞—Ä...      ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò

–ù–æ–≤—ã–π summary:
[–†–µ–¥–∞–∫—Ç–∏—Ä—É–µ–º–æ–µ –ø–æ–ª–µ_______]

‚ö†Ô∏è –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Ä—É—á–Ω—É—é –æ—Ç–∫–ª—é—á–∏—Ç
–∞–≤—Ç–æ–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —á–µ—Ä–µ–∑ AI

[üîÑ –†–µ–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å] [üíæ –°–æ—Ö—Ä–∞–Ω–∏—Ç—å]
API:
typescriptGET /api/admin/clusters
PATCH /api/admin/clusters/[id]
POST /api/admin/clusters/merge
POST /api/admin/clusters/[id]/split
POST /api/admin/clusters/[id]/regenerate-summary
```

---

#### **11.3.4 –õ–æ–≥–∏ –∏–º–ø–æ—Ä—Ç–∞**

**–ü—É—Ç—å:** `/admin/import-logs`

**–§–∏–ª—å—Ç—Ä—ã:** [–í—Å–µ] [–£—Å–ø–µ—à–Ω—ã–µ] [–û—à–∏–±–∫–∏] [–ó–∞ —Å–µ–≥–æ–¥–Ω—è ‚ñº]

**–§–æ—Ä–º–∞—Ç –ª–æ–≥–∞:**
```
17.11.2024 16:45:32
üü¢ RSS Import Success
–ò—Å—Ç–æ—á–Ω–∏–∫: BBC Ukraine
–ò–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–æ: 12 —Å—Ç–∞—Ç–µ–π
–°–æ–∑–¥–∞–Ω–æ –∫–ª–∞—Å—Ç–µ—Ä–æ–≤: 2
–í—Ä–µ–º—è: 4.3s
[–ü–æ–¥—Ä–æ–±–Ω–µ–µ ‚Üí]
```

**–î–µ—Ç–∞–ª—å–Ω—ã–π –ª–æ–≥:**
```
ID: import-job-123456
–°—Ç–∞—Ç—É—Å: ‚úÖ –£—Å–ø–µ—à–Ω–æ

–†–µ–∑—É–ª—å—Ç–∞—Ç—ã:
  –ù–∞–π–¥–µ–Ω–æ –≤ —Ñ–∏–¥–µ: 25
  –ù–æ–≤—ã—Ö —Å—Ç–∞—Ç–µ–π: 12
  –î—É–±–ª–∏–∫–∞—Ç–æ–≤: 13
  –û—Ç—Ñ–∏–ª—å—Ç—Ä–æ–≤–∞–Ω–æ: 0

AI –ê–Ω–∞–ª–∏–∑:
  –ö–∞—Ç–µ–≥–æ—Ä–∏–∑–∏—Ä–æ–≤–∞–Ω–æ: 12/12
  Entities: 47 (–ª—é–¥–∏: 28, –æ—Ä–≥: 19)

–î–µ–¥—É–ø–ª–∏–∫–∞—Ü–∏—è:
  –ù–∞–π–¥–µ–Ω–æ –¥—É–±–ª–∏–∫–∞—Ç–æ–≤: 5
  –°–æ–∑–¥–∞–Ω–æ –∫–ª–∞—Å—Ç–µ—Ä–æ–≤: 2

–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å:
  –û–±—â–µ–µ –≤—Ä–µ–º—è: 4.3s
  RSS fetch: 0.8s
  AI –∞–Ω–∞–ª–∏–∑: 2.1s
```

---

#### **11.3.5 –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏**

**–ü—É—Ç—å:** `/admin/users`

**–§—É–Ω–∫—Ü–∏–∏:**
- –ü—Ä–æ—Å–º–æ—Ç—Ä –≤—Å–µ—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- –ò–∑–º–µ–Ω–µ–Ω–∏–µ —Ä–æ–ª–∏
- –ë–ª–æ–∫–∏—Ä–æ–≤–∫–∞

**–ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ "–ò–∑–º–µ–Ω–∏—Ç—å —Ä–æ–ª—å":**
```
–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å: –ê–Ω–¥—Ä–µ–π –ò–≤–∞–Ω–æ–≤
Email: andy@example.com

–¢–µ–∫—É—â–∞—è —Ä–æ–ª—å: üëë Admin

–ù–æ–≤–∞—è —Ä–æ–ª—å:
‚óâ USER
‚óã MODERATOR
‚óã ADMIN

[–û—Ç–º–µ–Ω–∞] [üíæ –°–æ—Ö—Ä–∞–Ω–∏—Ç—å]
```

---

#### **11.3.6 –ù–∞—Å—Ç—Ä–æ–π–∫–∏ —Å–∏—Å—Ç–µ–º—ã**

**–ü—É—Ç—å:** `/admin/settings`

**–°–µ–∫—Ü–∏–∏:**

**1. AI –ü—Ä–æ–≤–∞–π–¥–µ—Ä:**
```
–¢–µ–∫—É—â–∏–π: HuggingFace + Groq

‚óâ HuggingFace + Groq (–±–µ—Å–ø–ª–∞—Ç–Ω–æ)
‚óã Ollama (self-hosted)

API Keys:
Groq: [gsk_***************]
HuggingFace: [hf_***********]

[üíæ –°–æ—Ö—Ä–∞–Ω–∏—Ç—å]
```

**2. –†–∞—Å–ø–∏—Å–∞–Ω–∏–µ –∏–º–ø–æ—Ä—Ç–∞:**
```
RSS —Ñ–∏–¥—ã: [15] –º–∏–Ω—É—Ç
Telegram –∫–∞–Ω–∞–ª—ã: [15] –º–∏–Ω—É—Ç
–ü–µ—Ä–µ—Å—á–µ—Ç —Ä–µ–π—Ç–∏–Ω–≥–∞: [15] –º–∏–Ω—É—Ç

[üíæ –°–æ—Ö—Ä–∞–Ω–∏—Ç—å]
```

**3. –§–∏–ª—å—Ç—Ä—ã –∏ –ø–æ—Ä–æ–≥–∏:**
```
–ü–æ—Ä–æ–≥ similarity: [0.85] (0.0-1.0)
–ú–∞–∫—Å. –≤–æ–∑—Ä–∞—Å—Ç –¥–ª—è –∫–ª–∞—Å—Ç–µ—Ä–∞: [48] —á–∞—Å–æ–≤
UkraineFilter: ‚òëÔ∏è –í–∫–ª—é—á–µ–Ω

[üíæ –°–æ—Ö—Ä–∞–Ω–∏—Ç—å]
```

**4. –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö:**
```
–†–∞–∑–º–µ—Ä –ë–î: 2.4 GB
–°—Ç–∞—Ç–µ–π: 45,678
–ö–ª–∞—Å—Ç–µ—Ä–æ–≤: 5,234

–ü–æ—Å–ª–µ–¥–Ω–∏–π –±—ç–∫–∞–ø: 17.11.2024 03:00

[‚¨áÔ∏è –°–æ–∑–¥–∞—Ç—å –±—ç–∫–∞–ø] [üóëÔ∏è –û—á–∏—Å—Ç–∏—Ç—å —Å—Ç–∞—Ä—ã–µ]

11.4 AdminService
typescriptexport class AdminService {
  
  async getDashboardStats() {
    // –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –¥–ª—è –¥–∞—à–±–æ—Ä–¥–∞
  }
  
  async mergeClusters(targetId, sourceId) {
    // –û–±—ä–µ–¥–∏–Ω–∏—Ç—å –∫–ª–∞—Å—Ç–µ—Ä—ã
  }
  
  async splitCluster(clusterId, articleIds) {
    // –†–∞–∑–¥–µ–ª–∏—Ç—å –∫–ª–∞—Å—Ç–µ—Ä
  }
  
  async testRSSConnection(url) {
    // –¢–µ—Å—Ç–æ–≤–æ–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ RSS
  }
}

11.5 –ú–∏–¥–ª–≤–∞—Ä—ã
typescript// src/middleware/adminAuth.ts

export async function adminAuthMiddleware(req) {
  const session = await getServerSession()
  
  if (!session) {
    return NextResponse.redirect('/login')
  }
  
  const user = await prisma.user.findUnique({
    where: { email: session.user.email }
  })
  
  if (user.role !== 'ADMIN' && user.role !== 'MODERATOR') {
    return NextResponse.json(
      { error: 'Access denied' },
      { status: 403 }
    )
  }
  
  return NextResponse.next()
}


# MediaSyndicate - –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ SRS: –ú–Ω–æ–≥–æ—Å—Ç—Ä–∞–Ω–æ–≤–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

## –ò–∑–º–µ–Ω–µ–Ω–∏—è –æ—Ç 19 –Ω–æ—è–±—Ä—è 2025

### –ö–ª—é—á–µ–≤—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –∫–æ–Ω—Ü–µ–ø—Ü–∏–∏

**–ë—ã–ª–æ:** –£–∫—Ä–∞–∏–Ω—Å–∫–∏–π –Ω–æ–≤–æ—Å—Ç–Ω–æ–π –∞–≥—Ä–µ–≥–∞—Ç–æ—Ä —Å —Ñ–æ–∫—É—Å–æ–º —Ç–æ–ª—å–∫–æ –Ω–∞ –£–∫—Ä–∞–∏–Ω–µ

**–°—Ç–∞–ª–æ:** –ì–ª–æ–±–∞–ª—å–Ω–∞—è –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞ –Ω–æ–≤–æ—Å—Ç–Ω–æ–π –∞–≥—Ä–µ–≥–∞—Ü–∏–∏ —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π –º–Ω–æ–∂–µ—Å—Ç–≤–∞ —Å—Ç—Ä–∞–Ω

---

## 1. –ú–Ω–æ–≥–æ—Å—Ç—Ä–∞–Ω–æ–≤–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

### 1.1 –û—Å–Ω–æ–≤–Ω–∞—è –∫–æ–Ω—Ü–µ–ø—Ü–∏—è

MediaSyndicate —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–∞–∫ **–ø–ª–∞—Ç—Ñ–æ—Ä–º–∞ –º–Ω–æ–∂–µ—Å—Ç–≤–∞ –Ω–µ–∑–∞–≤–∏—Å–∏–º—ã—Ö –Ω–æ–≤–æ—Å—Ç–Ω—ã—Ö –∞–≥—Ä–µ–≥–∞—Ç–æ—Ä–æ–≤**, –≥–¥–µ –∫–∞–∂–¥–∞—è —Å—Ç—Ä–∞–Ω–∞ –∏–º–µ–µ—Ç:
- –°–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–π –Ω–∞–±–æ—Ä –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤ (RSS, Telegram)
- –°–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–µ —è–∑—ã–∫–∏ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞
- –°–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–µ AI-–ø—Ä–æ–º–ø—Ç—ã –¥–ª—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏
- –°–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–π –∫–æ–Ω—Ç–µ–Ω—Ç –∏ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏

### 1.2 –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö

```prisma
// –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –∫ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–π —Å—Ö–µ–º–µ Prisma

model Country {
  id          String   @id @default(uuid())
  code        String   @unique // ISO 3166-1 alpha-2 (UA, US, GB, etc)
  name        String   // "Ukraine", "United States"
  slug        String   @unique // "ukraine", "united-states"
  isActive    Boolean  @default(true)
  
  // –Ø–∑—ã–∫–∏ —Å—Ç—Ä–∞–Ω—ã
  languages   CountryLanguage[]
  
  // –ò—Å—Ç–æ—á–Ω–∏–∫–∏ –Ω–æ–≤–æ—Å—Ç–µ–π
  sources     Source[]
  
  // –°—Ç–∞—Ç—å–∏
  articles    Article[]
  
  // –ù–∞—Å—Ç—Ä–æ–π–∫–∏ AI
  aiSettings  CountryAISettings?
  
  createdAt   DateTime @default(now())
  updatedAt   DateTime @updatedAt
}

model CountryLanguage {
  id          String   @id @default(uuid())
  countryId   String
  country     Country  @relation(fields: [countryId], references: [id])
  
  languageCode String  // ISO 639-1 (uk, en, ru, es, etc)
  languageName String  // "Ukrainian", "English"
  isDefault    Boolean @default(false)
  
  @@unique([countryId, languageCode])
}

model CountryAISettings {
  id          String   @id @default(uuid())
  countryId   String   @unique
  country     Country  @relation(fields: [countryId], references: [id])
  
  // –ü—Ä–æ–º–ø—Ç—ã –¥–ª—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏
  filterPrompt String  @db.Text
  // "Filter only news about Ukraine, Ukrainian politics, and events in Ukraine"
  
  // –ü—Ä–æ–º–ø—Ç—ã –¥–ª—è –∫–∞—Ç–µ–≥–æ—Ä–∏–∑–∞—Ü–∏–∏
  categorizationPrompt String @db.Text
  
  // –ü—Ä–æ–º–ø—Ç—ã –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ summary
  summaryPrompt String @db.Text
  
  createdAt   DateTime @default(now())
  updatedAt   DateTime @updatedAt
}

// –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö –º–æ–¥–µ–ª–µ–π

model Source {
  // ... —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –ø–æ–ª—è ...
  
  // –î–æ–±–∞–≤–∏—Ç—å:
  countryId   String
  country     Country  @relation(fields: [countryId], references: [id])
  
  @@index([countryId])
}

model Article {
  // ... —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –ø–æ–ª—è ...
  
  // –î–æ–±–∞–≤–∏—Ç—å:
  countryId   String
  country     Country  @relation(fields: [countryId], references: [id])
  
  @@index([countryId])
  @@index([countryId, publishedAt])
  @@index([countryId, category])
}
```

---

## 2. –Ø–∑—ã–∫–æ–≤–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞

### 2.1 –Ø–∑—ã–∫–∏ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞

**–ü–æ —É–º–æ–ª—á–∞–Ω–∏—é:** –ê–Ω–≥–ª–∏–π—Å–∫–∏–π (en)

**–î–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–µ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ:** –ü—Ä–∏ –≤—ã–±–æ—Ä–µ —Å—Ç—Ä–∞–Ω—ã –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –¥–æ—Å—Ç—É–ø–Ω—ã–µ —è–∑—ã–∫–∏ —ç—Ç–æ–π —Å—Ç—Ä–∞–Ω—ã

```typescript
// –ü—Ä–∏–º–µ—Ä —Å—Ç—Ä—É–∫—Ç—É—Ä—ã —è–∑—ã–∫–æ–≤ –ø–æ —Å—Ç—Ä–∞–Ω–∞–º
const countryLanguages = {
  UA: ['uk', 'ru', 'en'], // –£–∫—Ä–∞–∏–Ω—Å–∫–∏–π (–¥–µ—Ñ–æ–ª—Ç), –†—É—Å—Å–∫–∏–π, –ê–Ω–≥–ª–∏–π—Å–∫–∏–π
  US: ['en', 'es'],        // –ê–Ω–≥–ª–∏–π—Å–∫–∏–π (–¥–µ—Ñ–æ–ª—Ç), –ò—Å–ø–∞–Ω—Å–∫–∏–π
  GB: ['en'],              // –ê–Ω–≥–ª–∏–π—Å–∫–∏–π
  FR: ['fr', 'en'],        // –§—Ä–∞–Ω—Ü—É–∑—Å–∫–∏–π (–¥–µ—Ñ–æ–ª—Ç), –ê–Ω–≥–ª–∏–π—Å–∫–∏–π
  DE: ['de', 'en'],        // –ù–µ–º–µ—Ü–∫–∏–π (–¥–µ—Ñ–æ–ª—Ç), –ê–Ω–≥–ª–∏–π—Å–∫–∏–π
  ES: ['es', 'en'],        // –ò—Å–ø–∞–Ω—Å–∫–∏–π (–¥–µ—Ñ–æ–ª—Ç), –ê–Ω–≥–ª–∏–π—Å–∫–∏–π
}
```

### 2.2 –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ª–æ–∫–∞–ª–∏–∑–∞—Ü–∏–∏

```
/locales
  /en
    common.json
    categories.json
    countries.json
  /uk
    common.json
    categories.json
    countries.json
  /ru
    common.json
    categories.json
    countries.json
  /es
    common.json
    categories.json
    countries.json
```

### 2.3 –ë–∏–±–ª–∏–æ—Ç–µ–∫–∞ –¥–ª—è i18n

```bash
npm install next-intl
```

```typescript
// middleware.ts
import createMiddleware from 'next-intl/middleware';

export default createMiddleware({
  locales: ['en', 'uk', 'ru', 'es', 'fr', 'de'],
  defaultLocale: 'en',
  localePrefix: 'as-needed'
});
```

---

## 3. –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ —Å—Ç—Ä–∞–Ω –≤ UI

### 3.1 URL —Å—Ç—Ä—É–∫—Ç—É—Ä–∞

```
# –í–∞—Ä–∏–∞–Ω—Ç 1: –ü–æ–¥–¥–æ–º–µ–Ω—ã
ukraine.mediasyndicate.online
usa.mediasyndicate.online
uk.mediasyndicate.online

# –í–∞—Ä–∏–∞–Ω—Ç 2: Path-based (–†–ï–ö–û–ú–ï–ù–î–£–ï–¢–°–Ø)
mediasyndicate.online/ukraine
mediasyndicate.online/usa  
mediasyndicate.online/uk

# –í–∞—Ä–∏–∞–Ω—Ç 3: –ü–∞—Ä–∞–º–µ—Ç—Ä (–¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏)
mediasyndicate.online?country=ukraine
```

### 3.2 Country Selector Component

```typescript
// components/CountrySelector.tsx
'use client';

import { useRouter } from 'next/navigation';
import { useState } from 'react';

interface Country {
  code: string;
  name: string;
  slug: string;
  flag: string; // emoji —Ñ–ª–∞–≥–∞
}

export function CountrySelector({ currentCountry, countries }: {
  currentCountry: Country;
  countries: Country[];
}) {
  const router = useRouter();
  
  const handleCountryChange = (countrySlug: string) => {
    // –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ —Å—Ç—Ä–∞–Ω—ã = –ø–æ–ª–Ω–∞—è –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∞ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞
    router.push(`/${countrySlug}`);
    router.refresh(); // –§–æ—Ä—Å–∏—Ä—É–µ–º –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫—É
  };
  
  return (
    <select 
      value={currentCountry.slug}
      onChange={(e) => handleCountryChange(e.target.value)}
      className="country-selector"
    >
      {countries.map(country => (
        <option key={country.code} value={country.slug}>
          {country.flag} {country.name}
        </option>
      ))}
    </select>
  );
}
```

### 3.3 –ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –ø—Ä–∏ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–∏

```typescript
// app/[country]/layout.tsx
export default async function CountryLayout({
  children,
  params
}: {
  children: React.ReactNode;
  params: { country: string };
}) {
  // 1. –ó–∞–≥—Ä—É–∂–∞–µ–º –¥–∞–Ω–Ω—ã–µ —Å—Ç—Ä–∞–Ω—ã
  const country = await prisma.country.findUnique({
    where: { slug: params.country },
    include: {
      languages: true,
      aiSettings: true
    }
  });
  
  if (!country) {
    notFound();
  }
  
  // 2. –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º —è–∑—ã–∫ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –¥–ª—è —Å—Ç—Ä–∞–Ω—ã
  const defaultLanguage = country.languages.find(l => l.isDefault);
  
  // 3. –ü–µ—Ä–µ–¥–∞–µ–º –∫–æ–Ω—Ç–µ–∫—Å—Ç —Å—Ç—Ä–∞–Ω—ã –≤ –ø—Ä–æ–≤–∞–π–¥–µ—Ä
  return (
    <CountryProvider country={country}>
      <LanguageProvider defaultLanguage={defaultLanguage.languageCode}>
        {children}
      </LanguageProvider>
    </CountryProvider>
  );
}
```

---

## 4. AI —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ —Å—Ç—Ä–∞–Ω–∞–º

### 4.1 –ü—Ä–æ–º–ø—Ç—ã –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —Å—Ç—Ä–∞–Ω

```typescript
// services/ai/CountryFilterService.ts

export class CountryFilterService {
  
  async filterArticleForCountry(
    article: Article,
    countrySettings: CountryAISettings
  ): Promise<boolean> {
    const prompt = `
${countrySettings.filterPrompt}

Article Title: ${article.title}
Article Content: ${article.content.substring(0, 500)}

Question: Is this article relevant to the country context?
Answer with only "YES" or "NO".
    `;
    
    const response = await groqClient.chat.completions.create({
      model: "llama-3.1-70b-versatile",
      messages: [{ role: "user", content: prompt }],
      max_tokens: 10
    });
    
    return response.choices[0].message.content.trim() === "YES";
  }
}
```

### 4.2 –ü—Ä–∏–º–µ—Ä—ã –ø—Ä–æ–º–ø—Ç–æ–≤ –ø–æ —Å—Ç—Ä–∞–Ω–∞–º

```typescript
const countryFilterPrompts = {
  UA: `
You are filtering news for a Ukrainian news aggregator.
Include ONLY articles about:
- Events in Ukraine
- Ukrainian politics and government  
- Ukrainian-Russian war
- Ukrainian economy and business
- International relations involving Ukraine
- Ukrainian culture and society

EXCLUDE articles about other countries unless they directly relate to Ukraine.
  `,
  
  US: `
You are filtering news for a United States news aggregator.
Include ONLY articles about:
- Events in the United States
- US politics and government
- US economy and business
- International relations involving the US
- US culture and society

EXCLUDE articles about other countries unless they directly relate to the US.
  `,
  
  GB: `
You are filtering news for a United Kingdom news aggregator.
Include ONLY articles about:
- Events in the UK (England, Scotland, Wales, Northern Ireland)
- UK politics and government
- Brexit and post-Brexit issues
- UK economy and business
- International relations involving the UK
- UK culture and society

EXCLUDE articles about other countries unless they directly relate to the UK.
  `
};
```

---

## 5. –ê–¥–º–∏–Ω–∫–∞ —Å –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ–º —Å—Ç—Ä–∞–Ω

### 5.1 Admin Layout

```typescript
// app/admin/layout.tsx
export default async function AdminLayout({
  children
}: {
  children: React.ReactNode;
}) {
  const countries = await prisma.country.findMany({
    where: { isActive: true },
    include: {
      _count: {
        select: {
          sources: true,
          articles: true
        }
      }
    }
  });
  
  return (
    <div className="admin-layout">
      <AdminSidebar>
        <CountrySelector countries={countries} />
        {/* –ù–∞–≤–∏–≥–∞—Ü–∏—è –º–µ–Ω—è–µ—Ç—Å—è –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –≤—ã–±—Ä–∞–Ω–Ω–æ–π —Å—Ç—Ä–∞–Ω—ã */}
      </AdminSidebar>
      
      <main className="admin-content">
        {children}
      </main>
    </div>
  );
}
```

### 5.2 –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å—Ç—Ä–∞–Ω–∞–º–∏

```typescript
// app/admin/countries/page.tsx

export default async function CountriesPage() {
  const countries = await prisma.country.findMany({
    include: {
      languages: true,
      aiSettings: true,
      _count: {
        select: {
          sources: true,
          articles: true
        }
      }
    }
  });
  
  return (
    <div>
      <h1>Manage Countries</h1>
      
      <CountryList countries={countries} />
      
      <Button onClick={() => router.push('/admin/countries/new')}>
        + Add New Country
      </Button>
    </div>
  );
}
```

### 5.3 –ù–∞—Å—Ç—Ä–æ–π–∫–∞ AI –ø—Ä–æ–º–ø—Ç–æ–≤ –¥–ª—è —Å—Ç—Ä–∞–Ω—ã

```typescript
// app/admin/countries/[id]/ai-settings/page.tsx

export default async function CountryAISettingsPage({
  params
}: {
  params: { id: string }
}) {
  const country = await prisma.country.findUnique({
    where: { id: params.id },
    include: { aiSettings: true }
  });
  
  return (
    <div>
      <h1>AI Settings for {country.name}</h1>
      
      <form>
        <label>Filter Prompt</label>
        <textarea 
          name="filterPrompt"
          defaultValue={country.aiSettings?.filterPrompt}
          rows={10}
        />
        
        <label>Categorization Prompt</label>
        <textarea 
          name="categorizationPrompt"
          defaultValue={country.aiSettings?.categorizationPrompt}
          rows={10}
        />
        
        <label>Summary Prompt</label>
        <textarea 
          name="summaryPrompt"
          defaultValue={country.aiSettings?.summaryPrompt}
          rows={10}
        />
        
        <button type="submit">Save AI Settings</button>
      </form>
    </div>
  );
}
```

---

## 6. –ò—Å—Ç–æ—á–Ω–∏–∫–∏ –Ω–æ–≤–æ—Å—Ç–µ–π –ø–æ —Å—Ç—Ä–∞–Ω–∞–º

### 6.1 –ü—Ä–∏–≤—è–∑–∫–∞ –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤ –∫ —Å—Ç—Ä–∞–Ω–µ

–ü—Ä–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏ RSS/Telegram –∏—Å—Ç–æ—á–Ω–∏–∫–∞ –≤ –∞–¥–º–∏–Ω–∫–µ:

```typescript
// app/admin/[country]/sources/new/page.tsx

export default async function NewSourcePage({
  params
}: {
  params: { country: string }
}) {
  const country = await prisma.country.findUnique({
    where: { slug: params.country }
  });
  
  return (
    <div>
      <h1>Add Source for {country.name}</h1>
      
      <form action={addSource}>
        <input type="hidden" name="countryId" value={country.id} />
        
        <label>Source Name</label>
        <input name="name" placeholder="BBC News Ukraine" />
        
        <label>Source URL</label>
        <input name="url" placeholder="https://feeds.bbci.co.uk/..." />
        
        <label>Source Type</label>
        <select name="type">
          <option value="RSS">RSS Feed</option>
          <option value="TELEGRAM">Telegram Channel</option>
        </select>
        
        <button type="submit">Add Source</button>
      </form>
    </div>
  );
}
```

### 6.2 –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤

–ü—Ä–∏ –∏–º–ø–æ—Ä—Ç–µ —Å—Ç–∞—Ç–µ–π —É—á–∏—Ç—ã–≤–∞–µ—Ç—Å—è —Å—Ç—Ä–∞–Ω–∞ –∏—Å—Ç–æ—á–Ω–∏–∫–∞:

```typescript
// services/import/RSSImporter.ts

export class RSSImporter {
  async importFromSource(sourceId: string) {
    const source = await prisma.source.findUnique({
      where: { id: sourceId },
      include: { 
        country: {
          include: { aiSettings: true }
        }
      }
    });
    
    const articles = await this.parseRSS(source.url);
    
    for (const article of articles) {
      // 1. –§–∏–ª—å—Ç—Ä—É–µ–º –ø–æ AI –¥–ª—è —Å—Ç—Ä–∞–Ω—ã
      const isRelevant = await this.filterService.filterArticleForCountry(
        article,
        source.country.aiSettings
      );
      
      if (!isRelevant) {
        continue; // –ü—Ä–æ–ø—É—Å–∫–∞–µ–º –Ω–µ—Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω—ã–µ
      }
      
      // 2. –°–æ—Ö—Ä–∞–Ω—è–µ–º —Å –ø—Ä–∏–≤—è–∑–∫–æ–π –∫ —Å—Ç—Ä–∞–Ω–µ
      await prisma.article.create({
        data: {
          ...article,
          sourceId: source.id,
          countryId: source.countryId
        }
      });
    }
  }
}
```

---

## 7. API endpoints —Å —É—á–µ—Ç–æ–º —Å—Ç—Ä–∞–Ω

### 7.1 Country-scoped API

```typescript
// app/api/[country]/articles/route.ts

export async function GET(
  request: NextRequest,
  { params }: { params: { country: string } }
) {
  const country = await prisma.country.findUnique({
    where: { slug: params.country }
  });
  
  if (!country) {
    return NextResponse.json(
      { error: 'Country not found' },
      { status: 404 }
    );
  }
  
  const articles = await prisma.article.findMany({
    where: { countryId: country.id },
    include: { source: true },
    orderBy: { publishedAt: 'desc' },
    take: 20
  });
  
  return NextResponse.json({ articles });
}
```

### 7.2 Health check —Å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π –æ —Å—Ç—Ä–∞–Ω–µ

```typescript
// app/api/[country]/health/route.ts

export async function GET(
  request: NextRequest,
  { params }: { params: { country: string } }
) {
  const country = await prisma.country.findUnique({
    where: { slug: params.country },
    include: {
      _count: {
        select: {
          sources: true,
          articles: true
        }
      }
    }
  });
  
  if (!country) {
    return NextResponse.json(
      { error: 'Country not found' },
      { status: 404 }
    );
  }
  
  return NextResponse.json({
    status: 'ok',
    country: {
      code: country.code,
      name: country.name,
      slug: country.slug,
      sources: country._count.sources,
      articles: country._count.articles
    },
    database: 'connected',
    timestamp: new Date().toISOString()
  });
}
```

---

## 8. Roadmap –æ–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–π

### Phase 0 (–¢–µ–∫—É—â–∞—è) ‚úÖ
- –ë–∞–∑–æ–≤–∞—è Next.js —Å—Ç—Ä—É–∫—Ç—É—Ä–∞
- PostgreSQL –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ
- Health check API

### Phase 1 (–ù–µ–¥–µ–ª—è 1-2)
- ‚úÖ –°–æ–∑–¥–∞–Ω–∏–µ Country –º–æ–¥–µ–ª–∏
- ‚úÖ –ú–∏–≥—Ä–∞—Ü–∏—è —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö –¥–∞–Ω–Ω—ã—Ö (Ukraine –∫–∞–∫ –ø–µ—Ä–≤–∞—è —Å—Ç—Ä–∞–Ω–∞)
- ‚úÖ Country selector –≤ UI
- ‚úÖ –ú—É–ª—å—Ç–∏—è–∑—ã—á–Ω–æ—Å—Ç—å (next-intl)
- ‚è≥ RSS –∏–º–ø–æ—Ä—Ç —Å —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–µ–π –ø–æ —Å—Ç—Ä–∞–Ω–∞–º

### Phase 2 (–ù–µ–¥–µ–ª—è 3-4)
- ‚è≥ AI –∫–∞—Ç–µ–≥–æ—Ä–∏–∑–∞—Ü–∏—è —Å country-specific –ø—Ä–æ–º–ø—Ç–∞–º–∏
- ‚è≥ –ê–¥–º–∏–Ω–∫–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å—Ç—Ä–∞–Ω–∞–º–∏
- ‚è≥ –ù–∞—Å—Ç—Ä–æ–π–∫–∞ AI –ø—Ä–æ–º–ø—Ç–æ–≤ –¥–ª—è –∫–∞–∂–¥–æ–π —Å—Ç—Ä–∞–Ω—ã

### Phase 3 (–ù–µ–¥–µ–ª—è 5-6)
- ‚è≥ –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –°–®–ê (–∏—Å—Ç–æ—á–Ω–∏–∫–∏ + –Ω–∞—Å—Ç—Ä–æ–π–∫–∞)
- ‚è≥ –î–æ–±–∞–≤–ª–µ–Ω–∏–µ UK (–∏—Å—Ç–æ—á–Ω–∏–∫–∏ + –Ω–∞—Å—Ç—Ä–æ–π–∫–∞)
- ‚è≥ –í–µ–∫—Ç–æ—Ä–Ω—ã–π –ø–æ–∏—Å–∫ —Å —É—á–µ—Ç–æ–º —Å—Ç—Ä–∞–Ω

### Phase 4 (–ù–µ–¥–µ–ª—è 7-8)
- ‚è≥ Telegram –±–æ—Ç —Å –≤—ã–±–æ—Ä–æ–º —Å—Ç—Ä–∞–Ω—ã
- ‚è≥ –ö–ª–∞—Å—Ç–µ—Ä–∏–∑–∞—Ü–∏—è –Ω–æ–≤–æ—Å—Ç–µ–π
- ‚è≥ –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π —Ä–µ–π—Ç–∏–Ω–≥

---

## 9. –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è

### 9.1 Environment Variables

```env
# Database
DATABASE_URL="postgresql://postgres:password@host:5432/mediasyndicate"

# Default Country (–¥–ª—è –ø–µ—Ä–≤–æ–π –∑–∞–≥—Ä—É–∑–∫–∏)
DEFAULT_COUNTRY_CODE="UA"

# AI
GROQ_API_KEY="gsk_..."
HUGGINGFACE_API_KEY="hf_..."

# i18n
DEFAULT_LOCALE="en"
SUPPORTED_LOCALES="en,uk,ru,es,fr,de"
```

### 9.2 –ú–∏–≥—Ä–∞—Ü–∏—è —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö –¥–∞–Ω–Ω—ã—Ö

```sql
-- –°–æ–∑–¥–∞—Ç—å —Å—Ç—Ä–∞–Ω—É Ukraine
INSERT INTO "Country" (id, code, name, slug, "isActive")
VALUES (gen_random_uuid(), 'UA', 'Ukraine', 'ukraine', true);

-- –°–æ–∑–¥–∞—Ç—å —è–∑—ã–∫–∏ –¥–ª—è Ukraine
INSERT INTO "CountryLanguage" (id, "countryId", "languageCode", "languageName", "isDefault")
SELECT 
  gen_random_uuid(),
  c.id,
  'uk',
  'Ukrainian',
  true
FROM "Country" c WHERE c.code = 'UA';

-- –ü—Ä–∏–≤—è–∑–∞—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –∏—Å—Ç–æ—á–Ω–∏–∫–∏ –∫ Ukraine
UPDATE "Source" 
SET "countryId" = (SELECT id FROM "Country" WHERE code = 'UA');

-- –ü—Ä–∏–≤—è–∑–∞—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ —Å—Ç–∞—Ç—å–∏ –∫ Ukraine
UPDATE "Article"
SET "countryId" = (SELECT id FROM "Country" WHERE code = 'UA');
```

---

## 10. –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### 10.1 –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π flow

1. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∑–∞—Ö–æ–¥–∏—Ç –Ω–∞ `mediasyndicate.online`
2. –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é –≤–∏–¥–∏—Ç –Ω–æ–≤–æ—Å—Ç–∏ **–≤—Å–µ—Ö —Å—Ç—Ä–∞–Ω** –Ω–∞ –∞–Ω–≥–ª–∏–π—Å–∫–æ–º
3. –í—ã–±–∏—Ä–∞–µ—Ç —Å—Ç—Ä–∞–Ω—É "Ukraine" –∏–∑ —Å–µ–ª–µ–∫—Ç–æ—Ä–∞
4. URL –º–µ–Ω—è–µ—Ç—Å—è –Ω–∞ `mediasyndicate.online/ukraine`
5. –ó–∞–≥—Ä—É–∂–∞—é—Ç—Å—è:
   - –ò—Å—Ç–æ—á–Ω–∏–∫–∏ Ukraine
   - –°—Ç–∞—Ç—å–∏ —Ç–æ–ª—å–∫–æ –æ–± Ukraine
   - –î–æ—Å—Ç—É–ø–Ω—ã–µ —è–∑—ã–∫–∏: Ukrainian, Russian, English
   - –ü–µ—Ä–µ–∫–ª—é—á–∞–µ—Ç—Å—è –Ω–∞ Ukrainian –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
6. –í—Å–µ –ø–æ—Å–ª–µ–¥—É—é—â–∏–µ –¥–µ–π—Å—Ç–≤–∏—è (–ø–æ–∏—Å–∫, —Ñ–∏–ª—å—Ç—Ä—ã, –∫–∞—Ç–µ–≥–æ—Ä–∏–∏) —Ä–∞–±–æ—Ç–∞—é—Ç –≤ –∫–æ–Ω—Ç–µ–∫—Å—Ç–µ Ukraine

### 10.2 Admin flow

1. –ê–¥–º–∏–Ω –∑–∞—Ö–æ–¥–∏—Ç –≤ `mediasyndicate.online/admin`
2. –í sidebar –≤–∏–¥–∏—Ç Country Selector
3. –í—ã–±–∏—Ä–∞–µ—Ç "United States"
4. –í–∏–¥–∏—Ç:
   - –ò—Å—Ç–æ—á–Ω–∏–∫–∏ –°–®–ê (10 RSS, 5 Telegram)
   - –°—Ç–∞—Ç—å–∏ –°–®–ê (5,234)
   - –ù–∞—Å—Ç—Ä–æ–π–∫–∏ AI –¥–ª—è –°–®–ê
5. –ú–æ–∂–µ—Ç –¥–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—ã–π –∏—Å—Ç–æ—á–Ω–∏–∫ –¥–ª—è –°–®–ê
6. –ú–æ–∂–µ—Ç –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å AI –ø—Ä–æ–º–ø—Ç—ã —Å–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã–µ –¥–ª—è –°–®–ê

---

## 11. –ö–ª—é—á–µ–≤—ã–µ –æ—Ç–ª–∏—á–∏—è –æ—Ç –∏—Å—Ö–æ–¥–Ω–æ–≥–æ SRS

| –ë—ã–ª–æ | –°—Ç–∞–ª–æ |
|------|-------|
| –¢–æ–ª—å–∫–æ –£–∫—Ä–∞–∏–Ω–∞ | –ú–Ω–æ–∂–µ—Å—Ç–≤–æ —Å—Ç—Ä–∞–Ω |
| –Ø–∑—ã–∫: –†—É—Å—Å–∫–∏–π/–£–∫—Ä–∞–∏–Ω—Å–∫–∏–π | –Ø–∑—ã–∫: –ª—é–±–æ–π + –∞–Ω–≥–ª–∏–π—Å–∫–∏–π –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é |
| –§–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –ø—Ä–æ–º–ø—Ç—ã | –ü—Ä–æ–º–ø—Ç—ã –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞—é—Ç—Å—è –¥–ª—è –∫–∞–∂–¥–æ–π —Å—Ç—Ä–∞–Ω—ã |
| –û–¥–∏–Ω –∫–æ–Ω—Ç–µ–∫—Å—Ç | –ù–µ–∑–∞–≤–∏—Å–∏–º—ã–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç—ã –ø–æ —Å—Ç—Ä–∞–Ω–∞–º |
| –ò—Å—Ç–æ—á–Ω–∏–∫–∏ –æ–±—â–∏–µ | –ò—Å—Ç–æ—á–Ω–∏–∫–∏ –ø—Ä–∏–≤—è–∑–∞–Ω—ã –∫ —Å—Ç—Ä–∞–Ω–∞–º |

---

## 12. –°–ª–µ–¥—É—é—â–∏–µ –¥–µ–π—Å—Ç–≤–∏—è

1. **–û–±–Ω–æ–≤–∏—Ç—å Prisma —Å—Ö–µ–º—É** —Å –º–æ–¥–µ–ª—è–º–∏ Country, CountryLanguage, CountryAISettings
2. **–°–æ–∑–¥–∞—Ç—å –º–∏–≥—Ä–∞—Ü–∏—é** –¥–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –Ω–æ–≤—ã—Ö —Ç–∞–±–ª–∏—Ü
3. **–ú–∏–≥—Ä–∏—Ä–æ–≤–∞—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –¥–∞–Ω–Ω—ã–µ** (—Å–æ–∑–¥–∞—Ç—å Ukraine, –ø—Ä–∏–≤—è–∑–∞—Ç—å –¥–∞–Ω–Ω—ã–µ)
4. **–£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å next-intl** –¥–ª—è –º—É–ª—å—Ç–∏—è–∑—ã—á–Ω–æ—Å—Ç–∏
5. **–°–æ–∑–¥–∞—Ç—å Country Selector** –∫–æ–º–ø–æ–Ω–µ–Ω—Ç
6. **–û–±–Ω–æ–≤–∏—Ç—å API** –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å country context
7. **–î–æ–±–∞–≤–∏—Ç—å –∞–¥–º–∏–Ω–∫—É** —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å—Ç—Ä–∞–Ω–∞–º–∏


12. –ü—Ä–∏–ª–æ–∂–µ–Ω–∏—è
12.1 –ì–ª–æ—Å—Å–∞—Ä–∏–π
–ì–û–†–ï–ù–ò–ï - —Ö—Ä–æ–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–æ–µ —Ä–∞–∑–≤–∏—Ç–∏–µ —Ç–µ–º—ã
–ö–ª–∞—Å—Ç–µ—Ä - –≥—Ä—É–ø–ø–∞ –∏–∑ 2+ —Å—Ç–∞—Ç–µ–π –æ —Ç–æ–º –∂–µ —Å–æ–±—ã—Ç–∏–∏
–î–µ–¥—É–ø–ª–∏–∫–∞—Ü–∏—è - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ –æ–¥–∏–Ω–∞–∫–æ–≤—ã—Ö –Ω–æ–≤–æ—Å—Ç–µ–π
–†–µ–π—Ç–∏–Ω–≥-–±–æ—Ä–¥ - –≥–ª–∞–≤–Ω–∞—è –ª–µ–Ω—Ç–∞ —Å —Ç–æ–ø-50 –Ω–æ–≤–æ—Å—Ç—è–º–∏
Embedding - –≤–µ–∫—Ç–æ—Ä–Ω–æ–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ —Ç–µ–∫—Å—Ç–∞
Similarity - –º–µ—Ä–∞ –ø–æ—Ö–æ–∂–µ—Å—Ç–∏ —Ç–µ–∫—Å—Ç–æ–≤ (0.0-1.0)
Trending - –±—ã—Å—Ç—Ä–æ—Ä–∞—Å—Ç—É—â–∏–µ –Ω–æ–≤–æ—Å—Ç–∏ (üî•‚ö°üÜï)


AI –ø—Ä–æ–≤–∞–π–¥–µ—Ä—ã:

Groq: https://console.groq.com/docs
HuggingFace: https://huggingface.co/docs
Ollama: https://ollama.com/library


12.3 –ö–æ–Ω—Ç–∞–∫—Ç—ã –∫–æ–º–∞–Ω–¥—ã
Product Manager / Business Analyst: Andy
GitHub: https://github.com/x35m/syndicate
Production URL: https://mediasyndicate.online
Telegram –∫–∞–Ω–∞–ª: @MediaSyndicateUA (–ø–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞)
VPS: 31.172.75.175

üìÑ –ö–æ–Ω–µ—Ü –¥–æ–∫—É–º–µ–Ω—Ç–∞
–í–µ—Ä—Å–∏—è: 1.0
–î–∞—Ç–∞ –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è: 22 –Ω–æ—è–±—Ä—è 2024
–°—Ç–∞—Ç—É—Å: ‚úÖ –£—Ç–≤–µ—Ä–∂–¥–µ–Ω–æ –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
–°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏:

‚úÖ –†–∞–∑–≤–µ—Ä–Ω—É—Ç—å –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—É
‚úÖ –ó–∞–ø—É—Å—Ç–∏—Ç—å –º–∏–≥—Ä–∞—Ü–∏–∏ Prisma
‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å AIService + ImportService
‚úÖ –ù–∞—á–∞—Ç—å –∏–º–ø–æ—Ä—Ç —Ç–µ—Å—Ç–æ–≤—ã—Ö RSS —Ñ–∏–¥–æ–≤
‚úÖ –ó–∞–ø—É—Å—Ç–∏—Ç—å MVP —á–µ—Ä–µ–∑ 4 –Ω–µ–¥–µ–ª–∏
